(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65286,e=>{"use strict";let t=(0,e.i(75254).default)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],65286)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},58377,64030,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);e.s(["Flame",()=>a],58377);let r=(0,t.default)("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);e.s(["Trophy",()=>r],64030)},67585,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let r=e.r(32061);function s({reason:e,children:t}){if("u"<typeof window)throw Object.defineProperty(new r.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,a)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"encodeURIPath",{enumerable:!0,get:function(){return r}})},52157,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"PreloadChunks",{enumerable:!0,get:function(){return n}});let r=e.r(18050),s=e.r(74080),l=e.r(63599),i=e.r(9885),d=e.r(43369);function n({moduleIds:e}){if("u">typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let a=[];if(t.reactLoadableManifest&&e){let r=t.reactLoadableManifest;for(let t of e){if(!r[t])continue;let e=r[t].files;a.push(...e)}}if(0===a.length)return null;let n=(0,d.getDeploymentIdQueryOrEmptyString)();return(0,r.jsx)(r.Fragment,{children:a.map(e=>{let a=`${t.assetPrefix}/_next/${(0,i.encodeURIPath)(e)}${n}`;return e.endsWith(".css")?(0,r.jsx)("link",{precedence:"dynamic",href:a,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,s.preload)(a,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return c}});let r=e.r(18050),s=e.r(71645),l=e.r(67585),i=e.r(52157);function d(e){return{default:e&&"default"in e?e.default:e}}let n={loader:()=>Promise.resolve(d(()=>null)),loading:null,ssr:!0},c=function(e){let t={...n,...e},a=(0,s.lazy)(()=>t.loader().then(d)),c=t.loading;function o(e){let d=c?(0,r.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,n=!t.ssr||!!t.loading,o=n?s.Suspense:s.Fragment,h=t.ssr?(0,r.jsxs)(r.Fragment,{children:["u"<typeof window?(0,r.jsx)(i.PreloadChunks,{moduleIds:t.modules}):null,(0,r.jsx)(a,{...e})]}):(0,r.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(a,{...e})});return(0,r.jsx)(o,{...n?{fallback:d}:{},children:h})}return o.displayName="LoadableComponent",o}},70703,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"default",{enumerable:!0,get:function(){return s}});let r=e.r(55682)._(e.r(69093));function s(e,t){let a={};"function"==typeof e&&(a.loader=e);let s={...a,...t};return(0,r.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof a.default||"object"==typeof a.default&&null!==a.default)&&void 0===a.default.__esModule&&(Object.defineProperty(a.default,"__esModule",{value:!0}),Object.assign(a.default,a),t.exports=a.default)},89899,e=>{"use strict";var t=e.i(18050),a=e.i(71645),r=e.i(8442),s=e.i(25652),l=e.i(75254);let i=(0,l.default)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var d=e.i(64659),n=e.i(65286),c=e.i(38308),o=e.i(87316);let h=(0,l.default)("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);var x=e.i(58377),p=e.i(64030);let u=(0,e.i(70703).default)(()=>e.A(78098).then(e=>({default:e.PerformanceChart})),{loadableGenerated:{modules:[81434]},ssr:!1});e.s(["default",0,()=>{let[e,l]=(0,a.useState)([]),[f,g]=(0,a.useState)([]),[m,b]=(0,a.useState)({}),[j,y]=(0,a.useState)(!0),[k,v]=(0,a.useState)("15d"),[w,N]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[M,P]=(0,a.useState)(null);(0,a.useEffect)(()=>{r.supabaseService.getHistoryData().then(e=>{l(e.dailyScores),g(e.cycles),b(e.habitStats),e.cycles.length>0&&N(e.cycles[0].id),C(r.supabaseService.getLocalDateString()),y(!1)})},[]);let D=(0,a.useMemo)(()=>{if(!e)return[];if(new Date().setHours(0,0,0,0),"cycle"===k&&w){let t=f.find(e=>e.id===w);if(t){let a=new Date(t.start_date),s=new Date(t.end_date),l=[],i=new Date(a);for(;i<=s;)l.push(r.supabaseService.getLocalDateString(i)),i.setDate(i.getDate()+1);return l.map(t=>e.find(e=>e.date===t)||{date:t,score:0,details:[]})}}else{let t="15d"===k?15:"30d"===k?30:90;return[...e].sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).slice(0,t).reverse()}return e},[e,k,w,f]),_=D.length>0?Math.round(D.reduce((e,t)=>e+t.score,0)/D.length):0,O=D.filter(e=>100===e.score).length,T=(0,a.useMemo)(()=>S&&e.find(e=>e.date===S)||null,[S,e]),z=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"});return j?(0,t.jsx)("div",{className:"flex h-full items-center justify-center font-medium text-graphite-400",children:"Loading Temporal Records..."}):(0,t.jsxs)("div",{className:"h-full flex flex-col gap-6",children:[(0,t.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-2 border-b border-graphite-200 dark:border-graphite-800",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xs font-bold uppercase tracking-widest text-graphite-500 mb-2 flex items-center gap-2",children:[(0,t.jsx)(i,{size:14})," Performance Analytics"]}),(0,t.jsx)("h1",{className:"text-3xl font-display font-bold text-graphite-900 dark:text-white",children:"Temporal Records"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:["cycle"===k&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("select",{value:w||"",onChange:e=>N(e.target.value),className:"appearance-none bg-white dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-2 pr-10 text-sm font-bold text-graphite-700 dark:text-graphite-200 focus:outline-none focus:border-pacific-500",children:f.map(e=>(0,t.jsxs)("option",{value:e.id,children:["Cycle ",e.sprint_number]},e.id))}),(0,t.jsx)(d.ChevronDown,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-graphite-400 pointer-events-none"})]}),(0,t.jsx)("div",{className:"flex bg-white dark:bg-graphite-900 p-1 rounded-xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:["15d","30d","90d","cycle"].map(e=>(0,t.jsx)("button",{onClick:()=>v(e),className:`px-4 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${k===e?"bg-graphite-900 text-white dark:bg-white dark:text-graphite-900 shadow-md":"text-graphite-500 hover:text-graphite-900 dark:hover:text-white"}`,children:"cycle"===e?"Cycle":e.toUpperCase()},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 flex-1 min-h-0",children:[(0,t.jsxs)("div",{className:"lg:col-span-8 flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Avg Score"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-pacific-600 dark:text-pacific-400",children:[_,"%"]})]}),(0,t.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Perfect Days"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-bali-500",children:O})]}),(0,t.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Data Points"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-graphite-700 dark:text-graphite-200",children:D.length})]})]}),(0,t.jsxs)("div",{className:"rounded-3xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-6 shadow-sm flex flex-col flex-1 min-h-0",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between flex-shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-pacific-500",children:[(0,t.jsx)(s.TrendingUp,{size:20}),(0,t.jsx)("h3",{className:"font-bold text-graphite-900 dark:text-white",children:"Performance Trajectory"})]}),(0,t.jsx)("div",{className:"flex items-center gap-4 text-xs font-mono text-graphite-400",children:(0,t.jsx)("span",{children:D.length>0?`${z(D[0].date)} — ${z(D[D.length-1].date)}`:""})})]}),(0,t.jsx)("div",{className:"flex-1 min-h-[400px] w-full relative",children:(0,t.jsx)(u,{data:D,className:"h-full w-full absolute inset-0",onDataSelect:e=>C(e.date)})})]})]}),(0,t.jsx)("div",{className:"lg:col-span-4 flex flex-col h-full min-h-[400px]",children:(0,t.jsx)("div",{className:"flex-1 rounded-3xl bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-800 p-1 shadow-inner flex flex-col",children:T?(0,t.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-graphite-900 rounded-[20px] shadow-sm overflow-hidden animate-in slide-in-from-right-4 duration-300",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-graphite-100 dark:border-graphite-800 bg-graphite-50/50 dark:bg-graphite-900",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("span",{className:"text-xs font-bold uppercase tracking-widest text-graphite-400 flex items-center gap-2",children:[(0,t.jsx)(o.Calendar,{size:14})," Day Inspector"]}),T.score>=90&&(0,t.jsx)("span",{className:"px-2 py-0.5 rounded bg-bali-100 dark:bg-bali-900/30 text-bali-600 dark:text-bali-400 text-[10px] font-bold uppercase",children:"Elite Performance"})]}),(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-display font-bold text-graphite-900 dark:text-white",children:new Date(T.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-pacific-600 dark:text-pacific-400",children:[T.score,"%"]}),(0,t.jsx)("div",{className:"text-[10px] text-graphite-400 font-bold uppercase",children:"Daily Score"})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:T.details.map((e,a)=>{let r=m[e.habit.id]||{currentStreak:0,maxStreak:0};return(0,t.jsxs)("div",{className:"flex items-center justify-between group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`h-8 w-8 rounded-full flex items-center justify-center transition-colors ${e.done?"bg-bali-100 text-bali-600 dark:bg-bali-900/20 dark:text-bali-400":"bg-red-100 text-red-500 dark:bg-red-900/20 dark:text-red-400"}`,children:e.done?(0,t.jsx)(n.CheckCircle2,{size:16}):(0,t.jsx)(c.XCircle,{size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`text-sm font-medium ${e.done?"text-graphite-900 dark:text-white":"text-graphite-500 dark:text-graphite-400"}`,children:e.habit.name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-0.5",children:[(0,t.jsxs)("div",{className:"text-[10px] text-graphite-400 uppercase tracking-wide",children:[e.habit.category," • Weight: ",e.habit.weight]}),(0,t.jsx)("div",{className:"h-3 w-[1px] bg-graphite-200 dark:bg-graphite-700"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-0.5",title:"Current Streak",children:[(0,t.jsx)(x.Flame,{size:10,className:r.currentStreak>0?"text-orange-500":"text-graphite-300 dark:text-graphite-600"}),(0,t.jsx)("span",{className:`text-[10px] font-bold ${r.currentStreak>0?"text-graphite-600 dark:text-graphite-400":"text-graphite-300 dark:text-graphite-600"}`,children:r.currentStreak})]}),(0,t.jsxs)("div",{className:"flex items-center gap-0.5",title:"Max Streak",children:[(0,t.jsx)(p.Trophy,{size:10,className:r.maxStreak>0?"text-yellow-600":"text-graphite-300 dark:text-graphite-600"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-graphite-300 dark:text-graphite-600",children:r.maxStreak})]})]})]})]})]}),(0,t.jsx)("div",{className:`text-xs font-bold ${e.done?"text-bali-500":"text-red-500 opacity-0 group-hover:opacity-100 transition-opacity"}`,children:e.done?"+PTS":"MISS"})]},a)})})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-graphite-400 p-8 text-center",children:[(0,t.jsx)(h,{size:32,className:"mb-4 opacity-20"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Click on the timeline to inspect detailed logs for that day."})]})})})]})]})}],89899)},78098,e=>{e.v(t=>Promise.all(["static/chunks/b96777c3350d1b25.js"].map(t=>e.l(t))).then(()=>t(81434)))}]);