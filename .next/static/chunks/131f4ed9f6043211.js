(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,65286,e=>{"use strict";let t=(0,e.i(75254).default)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",0,t],65286)},87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",0,t],87316)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",0,t],64659)},89899,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(8442),s=e.i(25652),i=e.i(75254);let l=(0,i.default)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var d=e.i(64659),c=e.i(65286),n=e.i(38308),x=e.i(87316);let h=(0,i.default)("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);var o=e.i(58377),p=e.i(64030),g=e.i(94131);e.s(["default",0,()=>{let[e,i]=(0,a.useState)([]),[m,b]=(0,a.useState)([]),[f,u]=(0,a.useState)({}),[k,j]=(0,a.useState)(!0),[v,y]=(0,a.useState)("15d"),[N,w]=(0,a.useState)(null),[S,C]=(0,a.useState)(null),[M,D]=(0,a.useState)(null);(0,a.useEffect)(()=>{r.supabaseService.getHistoryData().then(e=>{i(e.dailyScores),b(e.cycles),u(e.habitStats),e.cycles.length>0&&w(e.cycles[0].id),C(new Date().toISOString().split("T")[0]),j(!1)})},[]);let z=(0,a.useMemo)(()=>{let t=[...e];if("cycle"===v&&N){let e=m.find(e=>e.id===N);e&&(t=t.filter(t=>t.date>=e.start_date&&t.date<=e.end_date))}else{let e="15d"===v?15:"30d"===v?30:90;t=t.slice(-e)}return t},[e,v,N,m]),T=z.length>0?Math.round(z.reduce((e,t)=>e+t.score,0)/z.length):0,P=z.filter(e=>100===e.score).length,$=(0,a.useMemo)(()=>S&&e.find(e=>e.date===S)||null,[S,e]),U=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric"});return k?(0,t.jsx)("div",{className:"flex h-full items-center justify-center font-medium text-graphite-400",children:"Loading Temporal Records..."}):(0,t.jsxs)("div",{className:"h-full flex flex-col gap-6",children:[(0,t.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-2 border-b border-graphite-200 dark:border-graphite-800",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xs font-bold uppercase tracking-widest text-graphite-500 mb-2 flex items-center gap-2",children:[(0,t.jsx)(l,{size:14})," Performance Analytics"]}),(0,t.jsx)("h1",{className:"text-3xl font-display font-bold text-graphite-900 dark:text-white",children:"Temporal Records"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:["cycle"===v&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("select",{value:N||"",onChange:e=>w(e.target.value),className:"appearance-none bg-white dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-2 pr-10 text-sm font-bold text-graphite-700 dark:text-graphite-200 focus:outline-none focus:border-pacific-500",children:m.map(e=>(0,t.jsxs)("option",{value:e.id,children:["Cycle ",e.sprint_number]},e.id))}),(0,t.jsx)(d.ChevronDown,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-graphite-400 pointer-events-none"})]}),(0,t.jsx)("div",{className:"flex bg-white dark:bg-graphite-900 p-1 rounded-xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:["15d","30d","90d","cycle"].map(e=>(0,t.jsx)("button",{onClick:()=>y(e),className:`px-4 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${v===e?"bg-graphite-900 text-white dark:bg-white dark:text-graphite-900 shadow-md":"text-graphite-500 hover:text-graphite-900 dark:hover:text-white"}`,children:"cycle"===e?"Cycle":e.toUpperCase()},e))})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 flex-1 min-h-0",children:[(0,t.jsxs)("div",{className:"lg:col-span-8 flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Avg Score"}),(0,t.jsxs)("div",{className:"text-3xl font-bold text-pacific-600 dark:text-pacific-400",children:[T,"%"]})]}),(0,t.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Perfect Days"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-bali-500",children:P})]}),(0,t.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,t.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Data Points"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-graphite-700 dark:text-graphite-200",children:z.length})]})]}),(0,t.jsxs)("div",{className:"rounded-3xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-6 shadow-sm flex flex-col",children:[(0,t.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-pacific-500",children:[(0,t.jsx)(s.TrendingUp,{size:20}),(0,t.jsx)("h3",{className:"font-bold text-graphite-900 dark:text-white",children:"Performance Trajectory"})]}),(0,t.jsx)("div",{className:"flex items-center gap-4 text-xs font-mono text-graphite-400",children:(0,t.jsx)("span",{children:z.length>0?`${U(z[0].date)} — ${U(z[z.length-1].date)}`:""})})]}),(0,t.jsx)(g.PerformanceChart,{data:z,className:"h-64 w-full",onDataSelect:e=>C(e.date)})]})]}),(0,t.jsx)("div",{className:"lg:col-span-4 flex flex-col h-full min-h-[400px]",children:(0,t.jsx)("div",{className:"flex-1 rounded-3xl bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-800 p-1 shadow-inner flex flex-col",children:$?(0,t.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-graphite-900 rounded-[20px] shadow-sm overflow-hidden animate-in slide-in-from-right-4 duration-300",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-graphite-100 dark:border-graphite-800 bg-graphite-50/50 dark:bg-graphite-900",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("span",{className:"text-xs font-bold uppercase tracking-widest text-graphite-400 flex items-center gap-2",children:[(0,t.jsx)(x.Calendar,{size:14})," Day Inspector"]}),$.score>=90&&(0,t.jsx)("span",{className:"px-2 py-0.5 rounded bg-bali-100 dark:bg-bali-900/30 text-bali-600 dark:text-bali-400 text-[10px] font-bold uppercase",children:"Elite Performance"})]}),(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-display font-bold text-graphite-900 dark:text-white",children:new Date($.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsxs)("div",{className:"text-3xl font-bold text-pacific-600 dark:text-pacific-400",children:[$.score,"%"]}),(0,t.jsx)("div",{className:"text-[10px] text-graphite-400 font-bold uppercase",children:"Daily Score"})]})]})]}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:$.details.map((e,a)=>{let r=f[e.habit.id]||{currentStreak:0,maxStreak:0};return(0,t.jsxs)("div",{className:"flex items-center justify-between group",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`h-8 w-8 rounded-full flex items-center justify-center transition-colors ${e.done?"bg-bali-100 text-bali-600 dark:bg-bali-900/20 dark:text-bali-400":"bg-red-100 text-red-500 dark:bg-red-900/20 dark:text-red-400"}`,children:e.done?(0,t.jsx)(c.CheckCircle2,{size:16}):(0,t.jsx)(n.XCircle,{size:16})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:`text-sm font-medium ${e.done?"text-graphite-900 dark:text-white":"text-graphite-500 dark:text-graphite-400"}`,children:e.habit.name}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-0.5",children:[(0,t.jsxs)("div",{className:"text-[10px] text-graphite-400 uppercase tracking-wide",children:[e.habit.category," • Weight: ",e.habit.weight]}),(0,t.jsx)("div",{className:"h-3 w-[1px] bg-graphite-200 dark:bg-graphite-700"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-0.5",title:"Current Streak",children:[(0,t.jsx)(o.Flame,{size:10,className:r.currentStreak>0?"text-orange-500":"text-graphite-300 dark:text-graphite-600"}),(0,t.jsx)("span",{className:`text-[10px] font-bold ${r.currentStreak>0?"text-graphite-600 dark:text-graphite-400":"text-graphite-300 dark:text-graphite-600"}`,children:r.currentStreak})]}),(0,t.jsxs)("div",{className:"flex items-center gap-0.5",title:"Max Streak",children:[(0,t.jsx)(p.Trophy,{size:10,className:r.maxStreak>0?"text-yellow-600":"text-graphite-300 dark:text-graphite-600"}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-graphite-300 dark:text-graphite-600",children:r.maxStreak})]})]})]})]})]}),(0,t.jsx)("div",{className:`text-xs font-bold ${e.done?"text-bali-500":"text-red-500 opacity-0 group-hover:opacity-100 transition-opacity"}`,children:e.done?"+PTS":"MISS"})]},a)})})]}):(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-graphite-400 p-8 text-center",children:[(0,t.jsx)(h,{size:32,className:"mb-4 opacity-20"}),(0,t.jsx)("p",{className:"text-sm font-medium",children:"Click on the timeline to inspect detailed logs for that day."})]})})})]})]})}],89899)}]);