(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,87316,e=>{"use strict";let t=(0,e.i(75254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",0,t],87316)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",0,t],64659)},7233,e=>{"use strict";let t=(0,e.i(75254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",0,t],7233)},43531,e=>{"use strict";let t=(0,e.i(75254).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",0,t],43531)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",0,t],63059)},52008,55900,40316,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);e.s(["Layers",0,a],52008);let r=(0,t.default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",0,r],55900);var i=e.i(43476),s=e.i(71645),l=e.i(87316),n=e.i(8442),d=e.i(73375),c=e.i(63059),o=e.i(37727);let p=(0,t.default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),h=({label:e,value:t,onChange:a})=>{let[r,n]=(0,s.useState)(!1),[h,x]=(0,s.useState)(()=>{if(t){let e=t.split("-").map(Number);if(3===e.length&&!isNaN(e[0]))return new Date(e[0],e[1]-1,e[2])}return new Date}),g=(0,s.useRef)(null);(0,s.useEffect)(()=>{let e=e=>{g.current&&!g.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,s.useEffect)(()=>{if(t){let e=t.split("-").map(Number),a=new Date(e[0],e[1]-1,e[2]);isNaN(a.getTime())||a.getMonth()===h.getMonth()&&a.getFullYear()===h.getFullYear()||x(a)}},[t]);let m=e=>{let t=new Date(h);t.setMonth(t.getMonth()+e),x(t)},u=(()=>{let e=h.getFullYear(),t=h.getMonth(),a=new Date(e,t,1).getDay(),r=new Date(e,t+1,0).getDate(),i=new Date(e,t,0).getDate(),s=[];for(let e=a-1;e>=0;e--)s.push({day:i-e,type:"prev"});for(let e=1;e<=r;e++)s.push({day:e,type:"current"});let l=42-s.length;for(let e=1;e<=l;e++)s.push({day:e,type:"next"});return s})();return(0,i.jsxs)("div",{className:"relative",ref:g,children:[(0,i.jsx)("label",{className:"mb-1.5 block text-xs font-bold text-graphite-500 uppercase tracking-wide",children:e}),(0,i.jsxs)("button",{type:"button",onClick:()=>n(!r),className:`w-full flex items-center justify-between rounded-xl bg-graphite-50 dark:bg-graphite-800 border p-3 text-sm transition-all
          ${r?"border-pacific-500 ring-2 ring-pacific-500/20":"border-graphite-200 dark:border-graphite-700 hover:border-pacific-500/50"}
          ${t?"text-graphite-900 dark:text-white":"text-graphite-400"}
        `,children:[(0,i.jsx)("span",{className:"font-medium",children:(e=>{if(!e)return"Select Date";let t=e.split("-").map(Number),a=new Date(t[0],t[1]-1,t[2]);return isNaN(a.getTime())?"Select Date":a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})(t)}),(0,i.jsx)(l.Calendar,{size:16,className:"text-pacific-500"})]}),r&&(0,i.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-full min-w-[300px] bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-700 rounded-xl shadow-2xl z-50 p-4 animate-in fade-in zoom-in-95 duration-200",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsx)("button",{type:"button",onClick:()=>m(-1),className:"p-1 hover:bg-graphite-100 dark:hover:bg-graphite-800 rounded-lg text-graphite-500 dark:text-graphite-400 transition-colors",children:(0,i.jsx)(d.ChevronLeft,{size:20})}),(0,i.jsxs)("span",{className:"text-sm font-bold text-graphite-900 dark:text-white",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][h.getMonth()]," ",h.getFullYear()]}),(0,i.jsx)("button",{type:"button",onClick:()=>m(1),className:"p-1 hover:bg-graphite-100 dark:hover:bg-graphite-800 rounded-lg text-graphite-500 dark:text-graphite-400 transition-colors",children:(0,i.jsx)(c.ChevronRight,{size:20})})]}),(0,i.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(e=>(0,i.jsx)("div",{className:"text-center text-[10px] font-bold text-graphite-400 uppercase",children:e},e))}),(0,i.jsx)("div",{className:"grid grid-cols-7 gap-1",children:u.map((e,r)=>{var s,l;let d,c,o;return(0,i.jsx)("button",{type:"button",onClick:()=>{var t,r;let i,s,l,d,c,o;return t=e.day,r=e.type,s=h.getFullYear(),l=h.getMonth(),d=(i="prev"===r?new Date(s,l-1,t):"next"===r?new Date(s,l+1,t):new Date(s,l,t)).getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),o=String(i.getDate()).padStart(2,"0"),void(a(`${d}-${c}-${o}`),n(!1),x(i))},className:`
                  aspect-square flex items-center justify-center rounded-lg text-sm font-medium transition-all
                  ${((e,a)=>{if(!t)return!1;let r=t.split("-").map(Number),i=new Date(r[0],r[1]-1,r[2]);if(isNaN(i.getTime()))return!1;let s=h.getFullYear(),l=h.getMonth();return("prev"===a?new Date(s,l-1,e):"next"===a?new Date(s,l+1,e):new Date(s,l,e)).getTime()===i.getTime()})(e.day,e.type)?"bg-pacific-500 text-white shadow-lg shadow-pacific-500/30":(s=e.day,l=e.type,(d=new Date).setHours(0,0,0,0),c=h.getFullYear(),o=h.getMonth(),("prev"===l?new Date(c,o-1,s):"next"===l?new Date(c,o+1,s):new Date(c,o,s)).getTime()===d.getTime())?"text-pacific-500 font-bold bg-pacific-50 dark:bg-pacific-900/10 hover:bg-pacific-100 dark:hover:bg-pacific-900/30":"current"===e.type?"text-graphite-700 dark:text-graphite-300 hover:bg-graphite-100 dark:hover:bg-graphite-800":"text-graphite-400/30 dark:text-graphite-600/30 hover:bg-graphite-50 dark:hover:bg-graphite-800/50"}
                `,children:e.day},r)})}),(0,i.jsxs)("div",{className:"mt-3 pt-3 border-t border-graphite-100 dark:border-graphite-800 flex items-center justify-between px-1",children:[(0,i.jsxs)("button",{type:"button",onClick:()=>{a(""),n(!1)},className:"flex items-center gap-1.5 text-xs font-bold text-graphite-400 hover:text-red-500 transition-colors",children:[(0,i.jsx)(o.X,{size:14})," Clear"]}),(0,i.jsxs)("button",{type:"button",onClick:()=>{let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");a(`${t}-${r}-${i}`),x(e),n(!1)},className:"flex items-center gap-1.5 text-xs font-bold text-pacific-600 dark:text-pacific-400 hover:text-pacific-500 transition-colors",children:[(0,i.jsx)(p,{size:14})," Today"]})]})]})]})};e.s(["NewVersionModal",0,({onClose:e,onCreate:t,suggestedNumber:r})=>{let[d,c]=(0,s.useState)(""),[o,p]=(0,s.useState)(""),[x,g]=(0,s.useState)(r),[m,u]=(0,s.useState)(new Date().toISOString().split("T")[0]),[b,f]=(0,s.useState)(90),[j,k]=(0,s.useState)("");return(0,s.useEffect)(()=>{n.supabaseService.getSystemSettings().then(e=>{f(e.days)})},[]),(0,s.useEffect)(()=>{if(!m)return void k("-");let e=new Date(m);if(isNaN(e.getTime()))return void k("-");let t=new Date(e);t.setDate(e.getDate()+b),k(t.toLocaleDateString(void 0,{weekday:"short",year:"numeric",month:"short",day:"numeric"}))},[m,b]),(0,i.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-graphite-950/80 backdrop-blur-sm p-4",onClick:e,children:(0,i.jsxs)("div",{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-graphite-900 p-8 shadow-2xl animate-in zoom-in-95 duration-200 border border-graphite-200 dark:border-graphite-800",onClick:e=>e.stopPropagation(),children:[(0,i.jsxs)("h2",{className:"mb-6 text-xl font-bold text-graphite-900 dark:text-white flex items-center gap-2",children:[(0,i.jsx)("div",{className:"p-2 bg-pacific-100 text-pacific-600 rounded-lg",children:(0,i.jsx)(a,{size:20})}),"Initialize New Version"]}),(0,i.jsxs)("div",{className:"space-y-5",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"mb-1.5 block text-xs font-bold text-graphite-500 uppercase tracking-wide",children:"Version ID"}),(0,i.jsx)("input",{type:"number",value:x,onChange:e=>g(Number(e.target.value)),className:"w-full rounded-xl bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 p-3 text-graphite-900 dark:text-white focus:border-pacific-500 focus:ring-2 focus:ring-pacific-500/20 focus:outline-none transition-all"})]}),(0,i.jsx)("div",{children:(0,i.jsx)(h,{label:"Start Date",value:m,onChange:u})})]}),(0,i.jsxs)("div",{className:"p-3 bg-graphite-50 dark:bg-graphite-800/50 rounded-xl border border-graphite-200 dark:border-graphite-700 flex items-center gap-3",children:[(0,i.jsx)(l.Calendar,{size:16,className:"text-pacific-500"}),(0,i.jsxs)("div",{className:"text-xs",children:[(0,i.jsx)("span",{className:"text-graphite-500 uppercase font-bold tracking-wider",children:"Projected End: "}),(0,i.jsx)("span",{className:"text-graphite-900 dark:text-white font-mono",children:j}),(0,i.jsxs)("span",{className:"block text-[10px] text-graphite-400 mt-0.5",children:["Based on system tempo of ",b," days."]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"mb-1.5 block text-xs font-bold text-graphite-500 uppercase tracking-wide",children:"Identity Title"}),(0,i.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),placeholder:"e.g., The Architect",className:"w-full rounded-xl bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 p-3 text-graphite-900 dark:text-white focus:border-pacific-500 focus:ring-2 focus:ring-pacific-500/20 focus:outline-none transition-all"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"mb-1.5 block text-xs font-bold text-graphite-500 uppercase tracking-wide",children:"Persona Definition"}),(0,i.jsx)("textarea",{value:o,onChange:e=>p(e.target.value),placeholder:"Define the archetype...",rows:3,className:"w-full rounded-xl bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 p-3 text-graphite-900 dark:text-white focus:border-pacific-500 focus:ring-2 focus:ring-pacific-500/20 focus:outline-none transition-all resize-none"})]}),(0,i.jsxs)("div",{className:"flex justify-end gap-3 pt-6",children:[(0,i.jsx)("button",{onClick:e,type:"button",className:"rounded-xl px-4 py-2 text-sm font-medium text-graphite-500 hover:text-graphite-800 dark:hover:text-graphite-200 transition-colors",children:"Cancel"}),(0,i.jsx)("button",{onClick:()=>{t({title:d,description:o,number:x,startDate:m})},type:"button",className:"rounded-xl bg-pacific-600 px-6 py-2.5 text-sm font-bold text-white hover:bg-pacific-500 transition-colors shadow-lg shadow-pacific-500/30",children:"Initialize Version"})]})]})]})})}],40316)},93798,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(8442),i=e.i(73986),s=e.i(43531),l=e.i(20278),n=e.i(87316),d=e.i(25652),c=e.i(58377),o=e.i(64030),p=e.i(52008),h=e.i(7233),x=e.i(64659),g=e.i(55900);let m=(0,e.i(75254).default)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);var u=e.i(59607),b=e.i(40316),f=e.i(94131);let j=({value:e,max:a,label:r,sublabel:i,color:s="pacific",size:l="md"})=>{let n=a>0?Math.min(100,Math.max(0,e/a*100)):0,d="sm"===l?36:44,c="sm"===l?6:8,o=2*Math.PI*d,p=.75*o,h="sm"===l?100:120;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsxs)("div",{className:"relative",style:{width:h,height:.75*h},children:[(0,t.jsxs)("svg",{className:"transform",viewBox:`0 0 ${h} ${.85*h}`,style:{width:"100%",height:"100%"},children:[(0,t.jsx)("circle",{cx:h/2,cy:h/2,r:d,stroke:"currentColor",strokeWidth:c,fill:"transparent",strokeLinecap:"round",strokeDasharray:`${p} ${o}`,strokeDashoffset:0,className:"text-graphite-100 dark:text-graphite-800",transform:`rotate(135 ${h/2} ${h/2})`}),(0,t.jsx)("circle",{cx:h/2,cy:h/2,r:d,stroke:"currentColor",strokeWidth:c,fill:"transparent",strokeLinecap:"round",strokeDasharray:`${p} ${o}`,strokeDashoffset:p*(1-n/100),className:`${"pacific"===s?"text-pacific-500":"text-bali-500"} ${"pacific"===s?"drop-shadow-[0_0_8px_rgba(14,165,233,0.4)]":"drop-shadow-[0_0_8px_rgba(16,185,129,0.4)]"} transition-all duration-700 ease-out`,transform:`rotate(135 ${h/2} ${h/2})`})]}),(0,t.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center",style:{paddingTop:"sm"===l?"8px":"12px"},children:[(0,t.jsxs)("span",{className:`font-display font-bold text-graphite-900 dark:text-white tracking-tight ${"sm"===l?"text-2xl":"text-3xl"}`,children:["number"==typeof e&&e%1==0?e:Math.round(e),(r.includes("%"),"")]}),i&&(0,t.jsx)("span",{className:"text-[8px] font-bold uppercase text-graphite-400 mt-0.5",children:i})]})]}),(0,t.jsx)("div",{className:"text-[10px] font-bold uppercase tracking-widest text-graphite-500 mt-1 text-center",children:r})]})};e.s(["default",0,()=>{let[e,k]=(0,a.useState)(null),[v,y]=(0,a.useState)([]),[N,w]=(0,a.useState)(!0),[D,S]=(0,a.useState)(0),[C,$]=(0,a.useState)(!1),[z,M]=(0,a.useState)(new Set),[T,L]=(0,a.useState)("week"),_=async()=>{try{let e=await r.supabaseService.getDashboardData(),t=await r.supabaseService.getHistoryData();k(e),y(t.dailyScores),S(r.supabaseService.calculateDailyScore(e.habits,e.todayLogs)),w(!1)}catch(e){console.error(e),w(!1)}};(0,a.useEffect)(()=>{_()},[]);let A=async(t,a)=>{if(!e)return;let i=!a,s=i?[...e.todayLogs,{id:"temp",habit_id:t,date:"",status:!0}]:e.todayLogs.filter(e=>e.habit_id!==t);k({...e,todayLogs:s});let l=r.supabaseService.calculateDailyScore(e.habits,s);S(l);let n=new Date().toISOString().split("T")[0];y(e=>e.map(e=>e.date===n?{...e,score:l}:e)),await r.supabaseService.toggleHabit(t,i),await _()},F=async(t,a)=>{if(!e)return;let i=e.goals.findIndex(e=>e.id===t);if(-1===i)return;let s=e.goals[i];if(!s.subtasks||!Array.isArray(s.subtasks))return;let l=[...s.subtasks];l[a]={...l[a],done:!l[a].done};let n={...s,subtasks:l},d=[...e.goals];d[i]=n,k({...e,goals:d}),await r.supabaseService.updateGoal(n)},P=async e=>{await r.supabaseService.createVersion(e),$(!1),_()};if(N||!e)return(0,t.jsx)("div",{className:"flex h-full items-center justify-center text-sm font-medium text-graphite-400",children:"Initializing Portal..."});let I=(()=>{if(!e.cycle)return{percent:0,daysLeft:0,totalDays:30};let t=new Date(e.cycle.start_date).getTime(),a=new Date(e.cycle.end_date).getTime(),r=new Date().getTime(),i=a-t;return{percent:i>0?Math.min(100,Math.max(0,(r-t)/i*100)):0,daysLeft:Math.max(0,Math.ceil((a-r)/864e5)),totalDays:Math.ceil(i/864e5)}})(),E=e=>{if(!e)return"";let t=new Date(e),a=t.toLocaleString("en-US",{month:"short"}).toUpperCase(),r=t.getDate().toString().padStart(2,"0");return`${a} ${r}`},Y=(()=>{let t=new Date;if(t.setHours(0,0,0,0),"week"===T){let e=t.getDay(),a=new Date(t);a.setDate(t.getDate()+(0===e?-6:1-e));let r=[];for(let e=0;e<7;e++){let t=new Date(a);t.setDate(a.getDate()+e),r.push(t.toISOString().split("T")[0])}return r.map(e=>v.find(t=>t.date===e)||{date:e,score:0})}{if("30d"===T)return v.slice(-30);if(!e.cycle)return v.slice(-14);let t=new Date(e.cycle.start_date),a=new Date(e.cycle.end_date);return v.filter(e=>{let r=new Date(e.date);return r>=t&&r<=a})}})(),O=e.goals.filter(t=>t.type===i.GoalType.TASK_PROJECT&&t.cycle_id===e.cycle?.id),R=e.cycle?.learning_focus?e.cycle.learning_focus.split(/[,\n]/).map(e=>e.trim()).filter(Boolean):[],U=({weight:e,isDone:a})=>(0,t.jsx)("div",{className:"flex gap-0.5",title:`Importance: ${e}`,children:[...Array(e)].map((e,r)=>(0,t.jsx)("div",{className:`h-1.5 w-2.5 rounded-full transition-colors duration-300 ${a?"bg-bali-500":"bg-graphite-400 dark:bg-graphite-600"}`},r))});return(0,t.jsxs)("div",{className:"flex flex-col gap-5 h-full",children:[(0,t.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-3 border-b border-graphite-200 dark:border-graphite-800 pb-4 flex-shrink-0",children:[e.version?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsxs)("span",{className:"inline-flex items-center rounded-md bg-pacific-500/10 border border-pacific-500/20 px-2.5 py-0.5 text-[10px] font-bold text-pacific-600 dark:text-pacific-400 uppercase tracking-wider",children:["Version ",e.version.number,".0"]}),(0,t.jsx)("span",{className:"text-[10px] font-bold text-graphite-400 uppercase tracking-wider",children:"Active"})]}),(0,t.jsx)("h1",{className:"text-2xl font-display font-bold text-graphite-900 dark:text-white tracking-tight leading-none",children:e.version.title}),(0,t.jsx)("p",{className:"mt-1.5 text-xs text-graphite-500 dark:text-graphite-400 max-w-2xl leading-snug line-clamp-1",children:e.version.description})]}):(0,t.jsxs)("div",{className:"flex flex-col items-start gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-graphite-400",children:[(0,t.jsx)("div",{className:"p-2 bg-graphite-100 dark:bg-graphite-800 rounded-lg",children:(0,t.jsx)(p.Layers,{size:20})}),(0,t.jsx)("h1",{className:"text-lg font-bold text-graphite-900 dark:text-white",children:"System Standby"})]}),(0,t.jsxs)("button",{onClick:()=>$(!0),className:"px-4 py-2 bg-pacific-600 text-white text-xs font-bold rounded-xl hover:bg-pacific-500 transition-colors shadow-lg shadow-pacific-500/20 flex items-center gap-2",children:[(0,t.jsx)(h.Plus,{size:14})," Initialize Version 1.0"]})]}),e.version&&(0,t.jsxs)("div",{className:"flex flex-col items-end",children:[e.cycle?(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-pacific-500 animate-pulse"}),(0,t.jsxs)("span",{className:"text-[10px] font-bold uppercase text-graphite-500 dark:text-graphite-400 tracking-wider",children:["Cycle ",e.cycle.sprint_number," Active"]})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[(0,t.jsx)("span",{className:"h-2 w-2 rounded-full bg-red-500"}),(0,t.jsx)("span",{className:"text-[10px] font-bold uppercase text-graphite-500 dark:text-graphite-400 tracking-wider",children:"No Active Cycle"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2.5 text-[11px] font-mono font-medium text-graphite-500",children:[(0,t.jsx)("span",{children:E(e.cycle?.start_date||"")}),(0,t.jsx)("span",{className:"text-graphite-300 dark:text-graphite-600",children:"â†’"}),(0,t.jsx)("span",{className:"text-pacific-500 font-bold",children:E(e.cycle?.end_date||"")})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-5 flex-shrink-0",children:[(0,t.jsxs)("div",{className:"lg:col-span-4 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-4 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("h3",{className:"text-[10px] font-bold text-graphite-500 uppercase tracking-widest flex items-center gap-1.5",children:[(0,t.jsx)(n.Calendar,{size:12})," HABIT TRACKER"]}),(0,t.jsxs)("span",{className:"text-[10px] font-mono text-graphite-400",children:[e.todayLogs.filter(e=>e.status).length,"/",e.habits.length]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[e.habits.map(a=>{let r=e.todayLogs.some(e=>e.habit_id===a.id&&e.status),i=e.habitStats[a.id]||{currentStreak:0,maxStreak:0};return(0,t.jsx)("div",{onClick:()=>A(a.id,r),className:`group relative cursor-pointer rounded-xl p-3 transition-all duration-300 border
                      ${r?"bg-bali-500/10 border-bali-500/30":"bg-graphite-50 dark:bg-graphite-800/50 border-graphite-200 dark:border-graphite-700 hover:border-pacific-500/50 hover:shadow-sm"}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2.5 min-w-0",children:[(0,t.jsx)("div",{className:`h-5 w-5 flex-shrink-0 rounded-md flex items-center justify-center transition-all duration-300 border ${r?"bg-bali-500 border-bali-500 text-white shadow-sm shadow-bali-500/30":"bg-transparent border-graphite-300 dark:border-graphite-600 text-transparent group-hover:border-pacific-400"}`,children:(0,t.jsx)(s.Check,{size:12,strokeWidth:3})}),(0,t.jsx)("span",{className:`text-sm font-semibold transition-colors truncate ${r?"text-bali-600 dark:text-bali-400 line-through decoration-bali-500/30":"text-graphite-700 dark:text-graphite-200"}`,children:a.name})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 flex-shrink-0",children:[(0,t.jsx)(U,{weight:a.weight,isDone:r}),(0,t.jsxs)("div",{className:"flex items-center gap-2 opacity-70",children:[(0,t.jsxs)("div",{className:"flex items-center gap-0.5",title:"Current Streak",children:[(0,t.jsx)(c.Flame,{size:11,className:i.currentStreak>0?"text-orange-500":"text-graphite-400"}),(0,t.jsx)("span",{className:`text-[10px] font-bold ${i.currentStreak>0?"text-graphite-600 dark:text-graphite-300":"text-graphite-400"}`,children:i.currentStreak})]}),(0,t.jsxs)("div",{className:"flex items-center gap-0.5",title:"Best Streak",children:[(0,t.jsx)(o.Trophy,{size:11,className:i.maxStreak>0?"text-yellow-500":"text-graphite-400"}),(0,t.jsx)("span",{className:`text-[10px] font-bold ${i.maxStreak>0?"text-graphite-600 dark:text-graphite-300":"text-graphite-400"}`,children:i.maxStreak})]})]})]})]})},a.id)}),0===e.habits.length&&(0,t.jsx)("div",{className:"text-center py-8 text-xs text-graphite-400 italic",children:"No habits defined for this cycle."})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 flex flex-col gap-4",children:[(0,t.jsx)("div",{className:"aspect-square rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm flex items-center justify-center",children:(0,t.jsx)(j,{value:D,max:100,label:"Efficiency",color:"pacific",size:"sm"})}),(0,t.jsx)("div",{className:"aspect-square rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm flex items-center justify-center",children:(0,t.jsx)(j,{value:I.daysLeft,max:I.totalDays,label:`Cycle ${e.cycle?.sprint_number||"-"}`,sublabel:"Days Left",color:"bali",size:"sm"})})]}),(0,t.jsxs)("div",{className:"lg:col-span-3 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-4 shadow-sm",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h3",{className:"text-[10px] font-bold text-graphite-500 uppercase tracking-widest flex items-center gap-1.5",children:[(0,t.jsx)(l.Target,{size:12})," CYCLE GOALS"]})}),(0,t.jsxs)("div",{className:"space-y-2.5",children:[O.map(e=>{let a=z.has(e.id),r=e.subtasks||[],i=r.filter(e=>e.done).length,l=r.length,n=l>0?i/l*100:0,d=l>0&&i===l;return(0,t.jsxs)("div",{className:`group relative rounded-xl border transition-all duration-300 overflow-hidden ${a||d?"bg-bali-500/10 border-bali-500/30":"bg-graphite-50 dark:bg-graphite-800/50 border-graphite-200 dark:border-graphite-700 hover:border-pacific-500/50"}`,children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-graphite-100 dark:bg-graphite-800/50",children:(0,t.jsx)("div",{className:`h-full transition-all duration-500 ${d?"bg-bali-500":"bg-pacific-500"}`,style:{width:`${n}%`}})}),(0,t.jsxs)("div",{className:"p-3 pt-3.5",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsx)("h3",{className:`text-xs font-bold leading-tight flex-1 ${d?"text-bali-600 dark:text-bali-400 line-through":"text-graphite-900 dark:text-white"}`,children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,t.jsxs)("span",{className:"text-[10px] font-mono font-bold text-graphite-400",children:[Math.round(n),"%"]}),(0,t.jsx)("button",{onClick:()=>{var t;let a;return t=e.id,void((a=new Set(z)).has(t)?a.delete(t):a.add(t),M(a))},className:"p-1 rounded-md hover:bg-graphite-100 dark:hover:bg-graphite-700 transition-colors",children:a?(0,t.jsx)(g.ChevronUp,{size:14,className:"text-graphite-400"}):(0,t.jsx)(x.ChevronDown,{size:14,className:"text-graphite-400"})})]})]}),a&&(0,t.jsx)("div",{className:"pt-2.5 border-t border-graphite-100 dark:border-graphite-700 space-y-2 mt-2.5",children:r.length>0?r.map((a,r)=>(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("button",{onClick:()=>F(e.id,r),className:`mt-0.5 h-4 w-4 rounded border flex items-center justify-center transition-all flex-shrink-0 ${a.done?"bg-pacific-500 border-pacific-500 text-white":"border-graphite-300 dark:border-graphite-600 hover:border-pacific-400"}`,children:a.done&&(0,t.jsx)(s.Check,{size:10,strokeWidth:3})}),(0,t.jsx)("span",{className:`text-xs leading-snug cursor-pointer ${a.done?"text-graphite-400 line-through":"text-graphite-600 dark:text-graphite-300"}`,onClick:()=>F(e.id,r),children:a.name})]},r)):(0,t.jsx)("div",{className:"text-center py-2 text-[10px] text-graphite-400 italic",children:"No subtasks defined"})})]})]},e.id)}),0===O.length&&(0,t.jsx)("div",{className:"text-center py-8 text-xs text-graphite-400 italic",children:"No cycle goals defined."})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-3 flex flex-col gap-3",children:[(0,t.jsxs)("div",{className:"rounded-xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-3.5 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2.5",children:[(0,t.jsx)(m,{size:13,className:"text-pacific-500"}),(0,t.jsx)("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-graphite-500",children:"Learning Focus"})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:R.length>0?R.map((e,a)=>(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-pacific-500/10 border border-pacific-500/20 text-[11px] font-medium text-pacific-600 dark:text-pacific-400",children:e},a)):(0,t.jsx)("span",{className:"text-[10px] text-graphite-400 italic",children:"Not defined"})})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-3.5 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2.5",children:[(0,t.jsx)(l.Target,{size:13,className:"text-bali-500"}),(0,t.jsx)("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-graphite-500",children:"Focus Priorities"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[e.cycle?.focus_priorities?.map((e,a)=>(0,t.jsxs)("div",{className:"flex items-start gap-2.5",children:[(0,t.jsx)("span",{className:"flex h-5 w-5 flex-shrink-0 items-center justify-center rounded-md bg-bali-500/10 text-[10px] font-bold text-bali-500",children:a+1}),(0,t.jsx)("span",{className:"text-xs font-medium text-graphite-700 dark:text-graphite-300 leading-snug",children:e})]},a)),!e.cycle?.focus_priorities?.length&&(0,t.jsx)("div",{className:"text-[10px] text-graphite-400 italic",children:"Not defined"})]})]}),(0,t.jsxs)("div",{className:"rounded-xl bg-red-50 dark:bg-red-900/10 border border-red-200/50 dark:border-red-900/30 p-3.5 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)(u.AlertTriangle,{size:13,className:"text-red-500"}),(0,t.jsx)("h3",{className:"text-[10px] font-bold uppercase tracking-widest text-red-500 dark:text-red-400",children:"Friction"})]}),e.cycle?.problems?(0,t.jsxs)("p",{className:"text-xs italic text-red-700 dark:text-red-300/80 leading-relaxed",children:['"',e.cycle.problems,'"']}):(0,t.jsx)("p",{className:"text-[10px] text-graphite-400 italic",children:"No friction defined"})]})]})]}),(0,t.jsxs)("div",{className:"rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-5 shadow-sm flex-1 min-h-[180px]",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("span",{className:"text-[11px] font-bold uppercase text-graphite-500 flex items-center gap-2",children:[(0,t.jsx)(d.TrendingUp,{size:14})," Progress Chart"]}),(0,t.jsx)("div",{className:"flex items-center gap-1 p-1 bg-graphite-100 dark:bg-graphite-800 rounded-lg",children:["week","30d","cycle"].map(e=>(0,t.jsx)("button",{onClick:()=>L(e),className:`px-3 py-1.5 text-[10px] font-bold uppercase rounded-md transition-all ${T===e?"bg-white dark:bg-graphite-700 text-graphite-900 dark:text-white shadow-sm":"text-graphite-500 hover:text-graphite-700 dark:hover:text-graphite-300"}`,children:"week"===e?"Week":"30d"===e?"30D":"Cycle"},e))})]}),(0,t.jsx)("div",{className:"h-full min-h-[120px]",children:(0,t.jsx)(f.PerformanceChart,{data:Y,className:"h-full w-full"})})]}),C&&(0,t.jsx)(b.NewVersionModal,{onClose:()=>$(!1),onCreate:P,suggestedNumber:1})]})}],93798)}]);