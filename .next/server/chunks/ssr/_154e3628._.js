module.exports=[90669,a=>{"use strict";let b=(0,a.i(70106).default)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);a.s(["Activity",()=>b],90669)},46201,79257,42644,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11366),e=a.i(11269),f=a.i(33508),g=a.i(70106);let h=(0,g.default)("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);a.s(["Link",()=>h],79257);var i=a.i(87532),j=a.i(33441);a.s(["GoalFormModal",0,({isOpen:a,onClose:g,onSave:k,initialGoal:l,currentCycleHabits:m,allHabits:n})=>{let[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(d.GoalType.TASK_PROJECT),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)("current"),[A,B]=(0,c.useState)("");if((0,c.useEffect)(()=>{if(l){if(p(l.title),r(l.description),t(l.type),l.subtasks?v(l.subtasks.map(a=>{let b="  ".repeat(a.level||0);return`${b}${a.name}`}).join("\n")):v(""),l.linked_habit_id){let a=n.find(a=>a.id===l.linked_habit_id);a&&x(a)}}else p(""),r(""),t(d.GoalType.TASK_PROJECT),v(""),x(null)},[l,a]),!a)return null;let C=Array.from(new Map(n.map(a=>[a.name,a])).values()),D=("current"===y?m:C).filter(a=>a.name.toLowerCase().includes(A.toLowerCase()));return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-graphite-950/80 backdrop-blur-sm p-4",onClick:g,children:(0,b.jsxs)("div",{className:"w-full max-w-xl rounded-2xl bg-white dark:bg-graphite-900 shadow-2xl animate-in zoom-in-95 duration-200 border border-graphite-200 dark:border-graphite-800 flex flex-col max-h-[90vh]",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"p-6 border-b border-graphite-200 dark:border-graphite-800 flex justify-between items-center",children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-graphite-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)(e.CheckCircle2,{size:20,className:"text-pacific-500"}),l?"Edit Goal":"Add New Goal"]}),(0,b.jsx)("button",{onClick:g,className:"text-graphite-400 hover:text-white",children:(0,b.jsx)(f.X,{size:20})})]}),(0,b.jsxs)("div",{className:"p-6 overflow-y-auto space-y-5",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:"Goal Title"}),(0,b.jsx)("input",{value:o,onChange:a=>p(a.target.value),className:"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-pacific-500 text-graphite-900 dark:text-white",placeholder:"e.g. Launch Marketing Campaign",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:"Description"}),(0,b.jsx)("textarea",{value:q,onChange:a=>r(a.target.value),rows:2,className:"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-pacific-500 text-graphite-900 dark:text-white resize-none",placeholder:"What is the objective?"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-2",children:"Goal Type"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-2 p-1 bg-graphite-100 dark:bg-graphite-800 rounded-xl",children:[(0,b.jsx)("button",{onClick:()=>t(d.GoalType.TASK_PROJECT),className:`py-2 rounded-lg text-sm font-bold transition-all ${s===d.GoalType.TASK_PROJECT?"bg-white dark:bg-graphite-700 text-pacific-600 dark:text-white shadow-sm":"text-graphite-500 hover:text-graphite-700 dark:hover:text-graphite-300"}`,children:"Project (Tasks)"}),(0,b.jsx)("button",{onClick:()=>t(d.GoalType.CONSISTENCY_METRIC),className:`py-2 rounded-lg text-sm font-bold transition-all ${s===d.GoalType.CONSISTENCY_METRIC?"bg-white dark:bg-graphite-700 text-pacific-600 dark:text-white shadow-sm":"text-graphite-500 hover:text-graphite-700 dark:hover:text-graphite-300"}`,children:"Habit Metric"})]})]}),s===d.GoalType.TASK_PROJECT?(0,b.jsxs)("div",{className:"animate-in fade-in slide-in-from-top-2",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:"Action Plan (Subtasks)"}),(0,b.jsx)("textarea",{value:u,onChange:a=>v(a.target.value),onKeyDown:a=>{if("Tab"===a.key){a.preventDefault();let b=a.currentTarget.selectionStart,c=a.currentTarget.selectionEnd,d=a.currentTarget.value;v(d.substring(0,b)+"  "+d.substring(c)),requestAnimationFrame(()=>{a.currentTarget&&(a.currentTarget.selectionStart=a.currentTarget.selectionEnd=b+2)})}},rows:6,className:"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-3 text-sm font-mono focus:outline-none focus:border-pacific-500 text-graphite-900 dark:text-white leading-relaxed",placeholder:"- Research competitors - Analyze pricing (Indented with Tab) - Draft copy"}),(0,b.jsx)("p",{className:"text-[10px] text-graphite-400 mt-1 text-right",children:"Use Tab to indent sub-tasks"})]}):(0,b.jsxs)("div",{className:"animate-in fade-in slide-in-from-top-2 p-4 border border-graphite-200 dark:border-graphite-700 rounded-xl bg-graphite-50 dark:bg-graphite-800/50",children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-pacific-500 uppercase mb-3 flex items-center gap-2",children:[(0,b.jsx)(h,{size:14})," Link Habit Source"]}),(0,b.jsxs)("div",{className:"flex gap-4 mb-3 border-b border-graphite-200 dark:border-graphite-700",children:[(0,b.jsx)("button",{onClick:()=>z("current"),className:`pb-2 text-xs font-bold uppercase transition-colors border-b-2 ${"current"===y?"border-pacific-500 text-pacific-600 dark:text-pacific-400":"border-transparent text-graphite-400"}`,children:"Current Cycle"}),(0,b.jsx)("button",{onClick:()=>z("database"),className:`pb-2 text-xs font-bold uppercase transition-colors border-b-2 ${"database"===y?"border-pacific-500 text-pacific-600 dark:text-pacific-400":"border-transparent text-graphite-400"}`,children:"Database Search"})]}),"database"===y&&(0,b.jsxs)("div",{className:"relative mb-3",children:[(0,b.jsx)(i.Search,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-graphite-400"}),(0,b.jsx)("input",{value:A,onChange:a=>B(a.target.value),className:"w-full bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-700 rounded-lg pl-9 pr-3 py-2 text-sm focus:outline-none focus:border-pacific-500",placeholder:"Search habit history..."})]}),(0,b.jsxs)("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-1",children:[D.map(a=>(0,b.jsxs)("button",{onClick:()=>x(a),className:`w-full text-left px-3 py-2 rounded-lg text-sm transition-all flex justify-between items-center ${w?.name===a.name?"bg-pacific-500 text-white shadow-md":"hover:bg-graphite-200 dark:hover:bg-graphite-700 text-graphite-700 dark:text-graphite-300"}`,children:[(0,b.jsx)("span",{className:"font-medium truncate",children:a.name}),w?.name===a.name&&(0,b.jsx)(j.Check,{size:14})]},a.id)),0===D.length&&(0,b.jsx)("div",{className:"text-center py-4 text-xs text-graphite-400 italic",children:"No habits found."})]}),w&&(0,b.jsxs)("div",{className:"mt-3 pt-3 border-t border-graphite-200 dark:border-graphite-700 flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-xs text-graphite-500",children:["Selected: ",(0,b.jsx)("span",{className:"font-bold text-graphite-900 dark:text-white",children:w.name})]}),(0,b.jsx)("button",{onClick:()=>x(null),className:"text-xs text-red-400 hover:text-red-500",children:"Clear"})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-graphite-200 dark:border-graphite-800 flex justify-end gap-3",children:[(0,b.jsx)("button",{onClick:g,className:"px-4 py-2 text-sm font-bold text-graphite-500 hover:text-graphite-800 dark:hover:text-white transition-colors",children:"Cancel"}),(0,b.jsx)("button",{onClick:()=>{if(!o.trim())return;let a=s===d.GoalType.TASK_PROJECT?u.split("\n").filter(a=>a.trim().length>0):void 0;k({title:o,description:q,type:s,subtasks:a},w)},disabled:!o.trim()||s===d.GoalType.CONSISTENCY_METRIC&&!w,className:"px-6 py-2 bg-pacific-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-pacific-500/30 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-pacific-500 transition-colors",children:l?"Save Changes":"Create Goal"})]})]})})}],46201);let k=(0,g.default)("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);a.s(["Fingerprint",()=>k],42644)},60283,81528,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(11366),e=a.i(24129),f=a.i(68976),g=a.i(61545),h=a.i(42644),i=a.i(90669),j=a.i(15618),k=a.i(81560),l=a.i(11269),m=a.i(67329),n=a.i(33508),o=a.i(14548),p=a.i(50429),q=a.i(80208),r=a.i(41675),s=a.i(70106);let t=(0,s.default)("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),u=(0,s.default)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),v=(0,s.default)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var w=a.i(46201),x=a.i(9347),y=a.i(87532);let z=(0,s.default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),A=(0,s.default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var B=a.i(21161);let C=(0,s.default)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),D=(0,s.default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var E=a.i(33441);let F=({isOpen:a,onClose:e,onSave:f,initialHabit:g,allHabits:h=[],onDeleteFromLibrary:i,onRenameCategory:j,onDeleteCategory:m})=>{let[p,q]=(0,c.useState)("create"),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),[w,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(d.HabitWeight.MEDIUM),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(null);(0,c.useEffect)(()=>{g?(u(g.name),F(g.category),H(g.weight),q("create")):a&&!g&&"create"===p&&""===t&&(u(""),F(""),H(d.HabitWeight.MEDIUM)),s(!1)},[g,a]);let S=(0,c.useMemo)(()=>Array.from(new Set(h.map(a=>a.category).filter(Boolean))).sort(),[h]),T=(0,c.useMemo)(()=>{let a=new Map;return h.forEach(b=>{a.has(b.name)||a.set(b.name,b)}),Array.from(a.values()).filter(a=>a.name.toLowerCase().includes(I.toLowerCase())||a.category.toLowerCase().includes(I.toLowerCase()))},[h,I]);if(!a)return null;let U=async()=>{M&&O.trim()&&O!==M&&j&&(await j(M,O.trim()),w===M&&F(O.trim())),N(null),P("")},V=async a=>{Q===a?(m&&(await m(a),w===a&&F("")),R(null)):(R(a),setTimeout(()=>R(null),3e3))};return(0,b.jsx)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-graphite-950/80 backdrop-blur-sm p-4",onClick:e,children:(0,b.jsxs)("div",{className:"w-full max-w-lg rounded-2xl bg-white dark:bg-graphite-900 shadow-2xl animate-in zoom-in-95 duration-200 border border-graphite-200 dark:border-graphite-800 flex flex-col max-h-[85vh]",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"flex-none border-b border-graphite-200 dark:border-graphite-800",children:[(0,b.jsxs)("div",{className:"p-6 pb-4 flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-graphite-900 dark:text-white flex items-center gap-2",children:r?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(B.Settings,{size:18,className:"text-graphite-500"})," Manage Categories"]}):"create"===p?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.CheckCircle2,{size:18,className:"text-pacific-500"})," ",g?"Edit Habit":"Add Habit"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(x.Library,{size:18,className:"text-bali-500"})," Habit Library"]})}),(0,b.jsx)("button",{onClick:e,className:"text-graphite-400 hover:text-white",children:(0,b.jsx)(n.X,{size:18})})]}),!g&&!r&&(0,b.jsxs)("div",{className:"px-6 flex gap-4",children:[(0,b.jsx)("button",{onClick:()=>q("create"),className:`pb-3 text-xs font-bold uppercase tracking-wider transition-colors border-b-2 ${"create"===p?"border-pacific-500 text-pacific-600 dark:text-pacific-400":"border-transparent text-graphite-400 hover:text-graphite-600 dark:hover:text-graphite-300"}`,children:"Create New"}),(0,b.jsx)("button",{onClick:()=>q("library"),className:`pb-3 text-xs font-bold uppercase tracking-wider transition-colors border-b-2 ${"library"===p?"border-bali-500 text-bali-600 dark:text-bali-400":"border-transparent text-graphite-400 hover:text-graphite-600 dark:hover:text-graphite-300"}`,children:"From History"})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:r?(0,b.jsxs)("div",{className:"animate-in fade-in slide-in-from-right-4 space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsxs)("button",{onClick:()=>s(!1),className:"text-xs font-bold text-graphite-500 hover:text-pacific-500 flex items-center gap-1",children:[(0,b.jsx)(D,{size:12})," Back to Form"]}),(0,b.jsxs)("span",{className:"text-[10px] uppercase text-graphite-400 font-bold",children:[S.length," Categories"]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[S.map(a=>(0,b.jsx)("div",{className:"group flex items-center justify-between p-3 rounded-xl border border-graphite-200 dark:border-graphite-800 bg-white dark:bg-graphite-800/50 hover:border-pacific-200 dark:hover:border-pacific-900 transition-all",children:M===a?(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,b.jsx)("input",{value:O,onChange:a=>P(a.target.value),className:"flex-1 bg-graphite-50 dark:bg-graphite-900 border border-pacific-500 rounded-lg px-2 py-1 text-sm text-graphite-900 dark:text-white outline-none",autoFocus:!0,onKeyDown:a=>"Enter"===a.key&&U()}),(0,b.jsx)("button",{onClick:U,className:"p-1.5 bg-pacific-500 text-white rounded-lg",children:(0,b.jsx)(E.Check,{size:14})}),(0,b.jsx)("button",{onClick:()=>N(null),className:"p-1.5 text-graphite-400 hover:text-white",children:(0,b.jsx)(n.X,{size:14})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-sm font-medium text-graphite-700 dark:text-graphite-300",children:a}),(0,b.jsxs)("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{N(a),P(a)},className:"p-2 text-graphite-400 hover:text-pacific-500 hover:bg-pacific-50 dark:hover:bg-pacific-900/20 rounded-lg",children:(0,b.jsx)(C,{size:14})}),"Uncategorized"!==a&&(0,b.jsxs)("button",{onClick:()=>V(a),className:`p-2 rounded-lg flex items-center gap-2 transition-all ${Q===a?"bg-red-500 text-white w-24 justify-center":"text-graphite-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:[(0,b.jsx)(k.Trash2,{size:14})," ",Q===a&&(0,b.jsx)("span",{className:"text-[10px] font-bold",children:"Confirm"})]})]})]})},a)),0===S.length&&(0,b.jsx)("div",{className:"text-center py-8 text-graphite-400 text-sm",children:"No categories defined yet."})]}),(0,b.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/10 rounded-xl border border-blue-100 dark:border-blue-900/30 flex gap-3 items-start",children:[(0,b.jsx)(v,{size:16,className:"text-blue-500 mt-0.5 shrink-0"}),(0,b.jsxs)("div",{className:"text-xs text-blue-700 dark:text-blue-300 leading-relaxed",children:[(0,b.jsx)("strong",{children:"Note:"}),' Renaming updates all habits history. Deleting moves associated habits to "Uncategorized".']})]})]}):"create"===p?(0,b.jsxs)("div",{className:"space-y-5 animate-in fade-in slide-in-from-left-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:"Habit Name"}),(0,b.jsx)("input",{value:t,onChange:a=>u(a.target.value),className:"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-pacific-500 text-graphite-900 dark:text-white transition-all",placeholder:"e.g. Morning Run",autoFocus:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-1.5",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase",children:"Category"}),(0,b.jsxs)("button",{onClick:()=>s(!0),className:"text-[10px] font-bold text-pacific-500 hover:text-pacific-600 flex items-center gap-1",children:[(0,b.jsx)(B.Settings,{size:10})," Manage"]})]}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(z,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-graphite-400"}),(0,b.jsx)("input",{value:w,onChange:a=>F(a.target.value),className:"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl pl-9 pr-4 py-3 text-sm focus:outline-none focus:border-pacific-500 text-graphite-900 dark:text-white transition-all",placeholder:"e.g. Health"})]}),S.length>0&&(0,b.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:S.slice(0,8).map(a=>(0,b.jsx)("button",{onClick:()=>F(a===w?"":a),className:`px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-wide border transition-all ${w===a?"bg-pacific-500 text-white border-pacific-500":"bg-graphite-100 dark:bg-graphite-800 text-graphite-500 border-transparent hover:bg-pacific-50 dark:hover:bg-pacific-900/20 hover:text-pacific-600 dark:hover:text-pacific-400"}`,children:a},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:"Impact Weight"}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-2",children:[d.HabitWeight.LOW,d.HabitWeight.MEDIUM,d.HabitWeight.HIGH].map(a=>(0,b.jsx)("button",{onClick:()=>H(a),className:`py-2.5 text-xs font-bold rounded-xl border transition-all ${G===a?"bg-pacific-500 text-white border-pacific-500 shadow-md shadow-pacific-500/20":"bg-graphite-50 dark:bg-graphite-800 text-graphite-500 border-graphite-200 dark:border-graphite-700 hover:border-graphite-400"}`,children:a===d.HabitWeight.LOW?"Low (1)":a===d.HabitWeight.MEDIUM?"Medium (2)":"High (4)"},a))})]})]}):(0,b.jsxs)("div",{className:"flex flex-col h-full animate-in fade-in slide-in-from-right-4",children:[(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(y.Search,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-graphite-400"}),(0,b.jsx)("input",{value:I,onChange:a=>J(a.target.value),className:"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl pl-9 pr-4 py-2 text-sm focus:outline-none focus:border-bali-500 text-graphite-900 dark:text-white",placeholder:"Search history...",autoFocus:!0})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1",children:T.length>0?T.map(a=>(0,b.jsxs)("div",{onClick:()=>{u(a.name),F(a.category),H(a.weight),q("create")},className:"group flex items-center justify-between p-3 rounded-xl border border-graphite-200 dark:border-graphite-800 bg-white dark:bg-graphite-800/50 hover:border-bali-500 dark:hover:border-bali-500 cursor-pointer transition-all",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-bold text-graphite-900 dark:text-white group-hover:text-bali-600 dark:group-hover:text-bali-400 transition-colors",children:a.name}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)("span",{className:"text-[10px] font-medium bg-graphite-100 dark:bg-graphite-900 text-graphite-500 px-2 py-0.5 rounded",children:a.category}),(0,b.jsx)("div",{className:"flex gap-0.5",children:[...Array(a.weight)].map((a,c)=>(0,b.jsx)("div",{className:"h-1 w-1 rounded-full bg-bali-400"},c))})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:b=>{var c;return c=a.id,void(b.stopPropagation(),K===c?(i&&i(c),L(null)):(L(c),setTimeout(()=>L(null),3e3)))},className:`p-2 rounded-lg transition-all ${K===a.id?"bg-red-500 text-white":"text-graphite-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 opacity-0 group-hover:opacity-100"}`,children:(0,b.jsx)(k.Trash2,{size:14})}),(0,b.jsx)(A,{size:16,className:"text-graphite-300 group-hover:text-bali-500 -translate-x-2 group-hover:translate-x-0 transition-all opacity-0 group-hover:opacity-100"})]})]},a.id)):(0,b.jsx)("div",{className:"text-center py-12 text-graphite-400 text-sm",children:"No matching habits found in history."})})]})}),(0,b.jsx)("div",{className:"p-6 border-t border-graphite-200 dark:border-graphite-800 flex justify-end gap-3 bg-white dark:bg-graphite-900 rounded-b-2xl",children:r?(0,b.jsx)("button",{onClick:()=>s(!1),className:"px-6 py-2 bg-graphite-100 dark:bg-graphite-800 text-graphite-900 dark:text-white rounded-xl text-sm font-bold hover:bg-graphite-200 dark:hover:bg-graphite-700 transition-colors",children:"Done"}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:e,className:"px-4 py-2 text-sm font-bold text-graphite-500 hover:text-graphite-800 dark:hover:text-white transition-colors",children:"Cancel"}),"create"===p&&(0,b.jsxs)("button",{onClick:()=>{t.trim()&&w.trim()&&f({name:t,category:w,weight:G})},disabled:!t.trim(),className:"px-6 py-2 bg-pacific-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-pacific-500/30 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-pacific-500 transition-colors flex items-center gap-2",children:[(0,b.jsx)(o.Save,{size:14})," Save"]})]})})]})})};a.s(["HabitFormModal",0,F],81528);let G=(a,b)=>{if(!a)return"";let c=a.split("-").map(Number),d=new Date(c[0],c[1]-1,c[2]);d.setDate(d.getDate()+b);let e=d.getFullYear(),f=String(d.getMonth()+1).padStart(2,"0"),g=String(d.getDate()).padStart(2,"0");return`${e}-${f}-${g}`};a.s(["CycleEditorModal",0,({mode:a="edit",cycle:s,goals:x,habits:y,allHabits:z,suggestedSprintNumber:A,onClose:B,onSaveCycle:C,onManageGoal:D,onManageHabit:E,onCreate:H,onRenameCategory:I,onDeleteCategory:J,onDeleteHabitFromDB:K,maxCycles:L=6,versionStartDate:M,existingCycles:N})=>{let[O,P]=(0,c.useState)("strategy"),[Q,R]=(0,c.useState)(A||1),[S,T]=(0,c.useState)(new Date().toISOString().split("T")[0]),[U,V]=(0,c.useState)(new Date(Date.now()+12096e5).toISOString().split("T")[0]),[W,X]=(0,c.useState)(!0),[Y,Z]=(0,c.useState)(15),[$,_]=(0,c.useState)(["","",""]),[aa,ab]=(0,c.useState)(""),[ac,ad]=(0,c.useState)(""),[ae,af]=(0,c.useState)([]),[ag,ah]=(0,c.useState)([]),[ai,aj]=(0,c.useState)([]),[ak,al]=(0,c.useState)([]),[am,an]=(0,c.useState)([]),[ao,ap]=(0,c.useState)([]),[aq,ar]=(0,c.useState)([]),[as,at]=(0,c.useState)(""),[au,av]=(0,c.useState)(""),[aw,ax]=(0,c.useState)(""),[ay,az]=(0,c.useState)(""),[aA,aB]=(0,c.useState)(null),[aC,aD]=(0,c.useState)(void 0),[aE,aF]=(0,c.useState)(!1),[aG,aH]=(0,c.useState)(void 0),[aI,aJ]=(0,c.useState)(!1),[aK,aL]=(0,c.useState)(null);(0,c.useEffect)(()=>{e.supabaseService.getMantras().then(ar),"edit"===a&&s&&(_(s.focus_priorities),ab(s.problems),ad(s.learning_focus),af(s.cch_list.find(a=>"Beliefs"===a.category)?.items||[]),ah(s.cch_list.find(a=>"Characteristics"===a.category)?.items||[]),aj(s.cch_list.find(a=>"Skills"===a.category)?.items||[]),al(s.mantras),R(s.sprint_number),T(s.start_date),V(s.end_date))},[a,s]),(0,c.useEffect)(()=>{(async()=>{let b=await e.supabaseService.getSystemSettings(),c=Math.floor(b.days/b.cycles);if(Z(c),"create"===a&&M){let a=M;N&&N.length>0&&(a=G([...N].sort((a,b)=>new Date(b.end_date).getTime()-new Date(a.end_date).getTime())[0].end_date,1)),T(a),V(G(a,c-1))}})()},[a,M,N]),(0,c.useEffect)(()=>{"edit"===a&&(an(x),ap(y))},[x,y,a]);let aM=async()=>{ay.trim()&&(await e.supabaseService.addMantra(ay),ar(a=>[...a,ay]),al(a=>[...a,ay]),az(""))},aN=async a=>{K?await K(a):E?E("delete",{id:a}):console.warn("Delete from library not fully supported in create mode without parent handler")},aO=(b,c)=>{if(aK!==b){aL(b),setTimeout(()=>aL(null),3e3);return}"create"===a?"goal"===c?an(a=>a.filter(a=>a.id!==b)):ap(a=>a.filter(a=>a.id!==b)):("goal"===c&&D&&D("delete",{id:b}),"habit"===c&&E&&E("delete",{id:b})),aL(null)};return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-graphite-950/80 backdrop-blur-sm p-4",onClick:B,children:(0,b.jsxs)("div",{className:"w-full max-w-4xl rounded-2xl bg-white dark:bg-graphite-900 shadow-2xl animate-in zoom-in-95 duration-200 border border-graphite-200 dark:border-graphite-800 flex flex-col h-[85vh]",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"p-6 border-b border-graphite-200 dark:border-graphite-800 flex justify-between items-center bg-graphite-50 dark:bg-graphite-950/50 rounded-t-2xl",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-bold text-graphite-900 dark:text-white flex items-center gap-2",children:["create"===a?(0,b.jsx)(t,{size:20,className:"text-pacific-500"}):(0,b.jsx)(f.Edit3,{size:20,className:"text-pacific-500"}),"create"===a?"Initialize New Cycle":"Cycle Editor"]}),(0,b.jsx)("div",{className:"text-xs text-graphite-500 mt-1 uppercase tracking-wider",children:"create"===a?"System Configuration":`Cycle ${s?.sprint_number} Configuration`})]}),(0,b.jsx)("div",{className:"flex bg-white dark:bg-graphite-800 p-1 rounded-xl border border-graphite-200 dark:border-graphite-700",children:[{id:"strategy",icon:(0,b.jsx)(p.Target,{size:14})},{id:"identity",icon:(0,b.jsx)(h.Fingerprint,{size:14})},{id:"mantras",icon:(0,b.jsx)(g.Brain,{size:14})},{id:"goals",icon:(0,b.jsx)(l.CheckCircle2,{size:14})},{id:"habits",icon:(0,b.jsx)(m.List,{size:14})}].map(a=>(0,b.jsxs)("button",{onClick:()=>P(a.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg text-xs font-bold uppercase transition-all ${O===a.id?"bg-pacific-500 text-white shadow-md":"text-graphite-500 hover:text-graphite-900 dark:hover:text-graphite-white hover:bg-graphite-50 dark:hover:bg-graphite-700"}`,children:[a.icon," ",a.id]},a.id))}),(0,b.jsx)("button",{onClick:B,type:"button",className:"text-graphite-400 hover:text-white transition-colors",children:(0,b.jsx)(n.X,{size:24})})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto p-8 bg-graphite-50/50 dark:bg-graphite-900/50",children:["strategy"===O&&(0,b.jsxs)("div",{className:"space-y-6 max-w-2xl mx-auto animate-in fade-in slide-in-from-right-2",children:["create"===a&&(0,b.jsxs)("div",{className:"bg-white dark:bg-graphite-900 p-6 rounded-2xl border border-graphite-200 dark:border-graphite-800 shadow-sm space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-pacific-500 text-xs font-bold uppercase tracking-widest",children:[(0,b.jsx)(r.Calendar,{size:14})," Temporal Config"]}),(0,b.jsx)("div",{className:"text-[10px] font-bold text-pacific-600 dark:text-pacific-400 bg-pacific-50 dark:bg-pacific-900/20 px-2 py-1 rounded",children:"AUTO-SUGGESTED"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:"Start Date"}),(0,b.jsx)("input",{type:"date",value:S,onChange:a=>{let b=a.target.value;T(b),b&&Y>0&&V(G(b,Y-1))},className:"w-full bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl px-3 py-2.5 text-sm text-graphite-900 dark:text-white focus:outline-none focus:border-pacific-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:"End Date"}),(0,b.jsx)("input",{type:"date",value:U,onChange:a=>V(a.target.value),className:"w-full bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl px-3 py-2.5 text-sm text-graphite-900 dark:text-white focus:outline-none focus:border-pacific-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-1.5",children:["Cycle Number (1-",L,")"]}),(0,b.jsx)("input",{type:"number",min:"1",max:L,value:Q,onChange:a=>{let b=Number(a.target.value);R(b),b>L?aB(`Maximum ${L} cycles allowed per version.`):aB(null)},className:`w-full bg-graphite-50 dark:bg-graphite-950 border rounded-xl px-3 py-2.5 text-sm text-graphite-900 dark:text-white focus:outline-none focus:border-pacific-500 ${aA?"border-red-500 ring-1 ring-red-500/20":"border-graphite-200 dark:border-graphite-700"}`}),aA&&(0,b.jsxs)("p",{className:"text-red-500 text-[10px] mt-1 font-bold flex items-center gap-1",children:[(0,b.jsx)(v,{size:10})," ",aA]})]}),(0,b.jsx)("div",{className:"flex items-end",children:(0,b.jsxs)("button",{onClick:()=>X(!W),className:`w-full py-2.5 rounded-xl border flex items-center justify-center gap-2 text-sm font-bold transition-all ${W?"bg-pacific-500/10 border-pacific-500/50 text-pacific-600 dark:text-pacific-400":"bg-graphite-50 dark:bg-graphite-950 border-graphite-200 dark:border-graphite-700 text-graphite-500"}`,children:[(0,b.jsx)(u,{size:16})," ",W?"Status: Active":"Status: Inactive"]})})]})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-graphite-900 p-6 rounded-2xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-4",children:"Focus Priorities"}),(0,b.jsx)("div",{className:"space-y-3",children:$.map((a,c)=>(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("span",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-graphite-100 dark:bg-graphite-800 font-bold text-graphite-500 border border-graphite-200 dark:border-graphite-700",children:c+1}),(0,b.jsx)("input",{value:a,onChange:a=>{let b=[...$];b[c]=a.target.value,_(b)},className:"flex-1 bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 text-sm focus:outline-none focus:border-pacific-500 transition-colors",placeholder:`Priority ${c+1}`})]},c))})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-graphite-900 p-6 rounded-2xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-2",children:"Current Friction/Problems"}),(0,b.jsx)("textarea",{value:aa,onChange:a=>ab(a.target.value),rows:3,className:"w-full bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl p-4 text-sm focus:outline-none focus:border-pacific-500 resize-none transition-colors",placeholder:"What is slowing you down?"})]}),(0,b.jsxs)("div",{className:"bg-white dark:bg-graphite-900 p-6 rounded-2xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-2",children:"Learning Focus"}),(0,b.jsx)("input",{value:ac,onChange:a=>ad(a.target.value),className:"w-full bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl p-4 text-sm focus:outline-none focus:border-pacific-500 transition-colors",placeholder:"One major skill to master..."})]})]}),"identity"===O&&(0,b.jsx)("div",{className:"space-y-8 max-w-2xl mx-auto animate-in fade-in slide-in-from-right-2",children:[{title:"Core Beliefs",items:ae,add:()=>{as.trim()&&(af([...ae,as.trim()]),at(""))},val:as,set:at,icon:(0,b.jsx)(g.Brain,{size:18})},{title:"Characteristics",items:ag,add:()=>{au.trim()&&(ah([...ag,au.trim()]),av(""))},val:au,set:av,icon:(0,b.jsx)(h.Fingerprint,{size:18})},{title:"Skills Acquisition",items:ai,add:()=>{aw.trim()&&(aj([...ai,aw.trim()]),ax(""))},val:aw,set:ax,icon:(0,b.jsx)(i.Activity,{size:18})}].map((a,c)=>(0,b.jsxs)("div",{className:"bg-white dark:bg-graphite-900 p-6 rounded-2xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsxs)("h3",{className:"text-sm font-bold text-graphite-900 dark:text-white flex items-center gap-2 mb-4",children:[a.icon," ",a.title]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:a.items.map((c,d)=>(0,b.jsxs)("span",{className:"bg-graphite-100 dark:bg-graphite-800 px-3 py-1.5 rounded-lg text-xs font-medium flex items-center gap-2 border border-graphite-200 dark:border-graphite-700",children:[c,(0,b.jsx)("button",{onClick:()=>{"Core Beliefs"===a.title?af(ae.filter((a,b)=>b!==d)):"Characteristics"===a.title?ah(ag.filter((a,b)=>b!==d)):aj(ai.filter((a,b)=>b!==d))},className:"text-graphite-400 hover:text-red-500",children:(0,b.jsx)(n.X,{size:12})})]},d))}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{value:a.val,onChange:b=>a.set(b.target.value),onKeyDown:b=>"Enter"===b.key&&a.add(),className:"flex-1 bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-pacific-500 transition-colors",placeholder:`Add ${a.title}...`}),(0,b.jsx)("button",{onClick:a.add,className:"p-2 bg-pacific-500 text-white rounded-xl hover:bg-pacific-600 transition-colors",children:(0,b.jsx)(j.Plus,{size:20})})]})]},c))}),"mantras"===O&&(0,b.jsxs)("div",{className:"space-y-4 max-w-2xl mx-auto animate-in fade-in slide-in-from-right-2 bg-white dark:bg-graphite-900 p-6 rounded-2xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-bold text-graphite-500 uppercase mb-3",children:"Select Active Mantras"}),(0,b.jsx)("div",{className:"grid grid-cols-1 gap-2 max-h-[400px] overflow-y-auto pr-2",children:aq.map((a,c)=>(0,b.jsxs)("div",{onClick:()=>al(b=>b.includes(a)?b.filter(b=>b!==a):[...b,a]),className:`p-3 rounded-xl border cursor-pointer transition-all flex items-center justify-between ${ak.includes(a)?"bg-pacific-50 border-pacific-500 text-pacific-700 dark:bg-pacific-900/20 dark:text-pacific-300":"bg-graphite-50 dark:bg-graphite-950 border-transparent text-graphite-600 dark:text-graphite-400 hover:bg-graphite-100 dark:hover:bg-graphite-800"}`,children:[(0,b.jsx)("span",{className:"text-sm font-medium",children:a}),ak.includes(a)&&(0,b.jsx)(l.CheckCircle2,{size:16})]},c))})]}),(0,b.jsxs)("div",{className:"flex gap-2 pt-4 border-t border-graphite-200 dark:border-graphite-800",children:[(0,b.jsx)("input",{value:ay,onChange:a=>az(a.target.value),className:"flex-1 bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-pacific-500 transition-colors",placeholder:"New Mantra..."}),(0,b.jsx)("button",{onClick:aM,className:"px-4 bg-graphite-900 dark:bg-white text-white dark:text-graphite-900 rounded-xl font-bold text-xs uppercase tracking-wider",children:"ADD"})]})]}),"goals"===O&&(0,b.jsxs)("div",{className:"max-w-3xl mx-auto animate-in fade-in slide-in-from-right-2 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-graphite-500 uppercase tracking-widest",children:"Active Goals"}),(0,b.jsxs)("button",{onClick:()=>{aD(void 0),aF(!0)},className:"flex items-center gap-2 px-4 py-2 bg-pacific-600 text-white rounded-xl text-xs font-bold hover:bg-pacific-500 shadow-lg shadow-pacific-500/30 transition-colors",children:[(0,b.jsx)(j.Plus,{size:16})," Add Goal"]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[am.map(a=>(0,b.jsxs)("div",{className:"p-4 bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 rounded-2xl flex justify-between items-center group hover:border-pacific-500/30 transition-all shadow-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-bold text-graphite-900 dark:text-white flex items-center gap-2",children:[a.title,(0,b.jsx)("span",{className:`text-[10px] uppercase px-2 py-0.5 rounded border ${a.type===d.GoalType.TASK_PROJECT?"border-purple-200 text-purple-600 dark:border-purple-900 dark:text-purple-400":"border-bali-200 text-bali-600 dark:border-bali-900 dark:text-bali-400"}`,children:a.type===d.GoalType.TASK_PROJECT?"Project":"Metric"})]}),(0,b.jsx)("div",{className:"text-xs text-graphite-500 mt-1 line-clamp-1",children:a.description})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{aD(a),aF(!0)},className:"p-2 text-graphite-400 hover:text-pacific-500 hover:bg-pacific-50 dark:hover:bg-pacific-900/20 rounded-lg transition-colors",children:(0,b.jsx)(f.Edit3,{size:16})}),(0,b.jsxs)("button",{onClick:()=>aO(a.id,"goal"),className:`p-2 rounded-lg transition-all flex items-center gap-2 ${aK===a.id?"bg-red-500 text-white w-24 justify-center":"text-graphite-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:[(0,b.jsx)(k.Trash2,{size:16})," ",aK===a.id&&(0,b.jsx)("span",{className:"text-xs font-bold",children:"Confirm"})]})]})]},a.id)),0===am.length&&(0,b.jsx)("div",{className:"text-center py-12 text-graphite-400 italic bg-graphite-50 dark:bg-graphite-950 rounded-2xl border border-dashed border-graphite-200 dark:border-graphite-800",children:"No goals defined."})]})]}),"habits"===O&&(0,b.jsxs)("div",{className:"max-w-3xl mx-auto animate-in fade-in slide-in-from-right-2 space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-sm font-bold text-graphite-500 uppercase tracking-widest",children:"Cycle Habits"}),(0,b.jsxs)("button",{onClick:()=>{aH(void 0),aJ(!0)},className:"flex items-center gap-2 px-4 py-2 bg-pacific-600 text-white rounded-xl text-xs font-bold hover:bg-pacific-500 shadow-lg shadow-pacific-500/30 transition-colors",children:[(0,b.jsx)(j.Plus,{size:16})," Add Habit"]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[ao.map(a=>(0,b.jsxs)("div",{className:"p-4 bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 rounded-2xl flex justify-between items-center group hover:border-pacific-500/30 transition-all shadow-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"font-bold text-graphite-900 dark:text-white flex items-center gap-2",children:[a.name,a.linked_goal_id&&(0,b.jsxs)("span",{className:"text-[10px] uppercase px-2 py-0.5 rounded bg-pacific-50 dark:bg-pacific-900/20 text-pacific-600 dark:text-pacific-400 font-bold flex items-center gap-1",children:[(0,b.jsx)(q.AlertTriangle,{size:10})," Linked"]})]}),(0,b.jsxs)("div",{className:"text-xs text-graphite-500 mt-1 flex items-center gap-3",children:[(0,b.jsx)("span",{className:"bg-graphite-100 dark:bg-graphite-800 px-2 py-0.5 rounded",children:a.category}),(0,b.jsxs)("span",{children:["Weight: ",a.weight]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)("button",{onClick:()=>{aH(a),aJ(!0)},className:"p-2 text-graphite-400 hover:text-pacific-500 hover:bg-pacific-50 dark:hover:bg-pacific-900/20 rounded-lg transition-colors",children:(0,b.jsx)(f.Edit3,{size:16})}),(0,b.jsxs)("button",{onClick:()=>aO(a.id,"habit"),className:`p-2 rounded-lg transition-all flex items-center gap-2 ${aK===a.id?"bg-red-500 text-white w-24 justify-center":"text-graphite-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20"}`,children:[(0,b.jsx)(k.Trash2,{size:16})," ",aK===a.id&&(0,b.jsx)("span",{className:"text-xs font-bold",children:"Confirm"})]})]})]},a.id)),0===ao.length&&(0,b.jsx)("div",{className:"text-center py-12 text-graphite-400 italic bg-graphite-50 dark:bg-graphite-950 rounded-2xl border border-dashed border-graphite-200 dark:border-graphite-800",children:"No habits defined."})]})]})]}),(0,b.jsxs)("div",{className:"p-6 border-t border-graphite-200 dark:border-graphite-800 flex justify-end gap-3 bg-white dark:bg-graphite-900 rounded-b-2xl",children:[(0,b.jsx)("button",{onClick:B,className:"px-6 py-2 text-sm font-bold text-graphite-500 hover:text-graphite-900 dark:hover:text-white transition-colors",children:"Close"}),(0,b.jsxs)("button",{onClick:()=>{if("create"===a&&(Q<1||Q>L)){aB(`Versions are limited to exactly ${L} cycles.`),P("strategy");return}let b={sprint_number:Q,start_date:S,end_date:U,status:W?d.EntityStatus.ACTIVE:void 0,focus_priorities:$.filter(a=>a.trim().length>0),problems:aa,learning_focus:ac,mantras:ak,cch_list:[{category:"Beliefs",items:ae},{category:"Characteristics",items:ag},{category:"Skills",items:ai}]};"create"===a&&H?H(b,am,ao):"edit"===a&&C&&s&&C({...s,...b})},className:"px-8 py-2 bg-graphite-900 dark:bg-white text-white dark:text-graphite-900 rounded-xl text-sm font-bold shadow-lg hover:opacity-90 transition-opacity flex items-center gap-2",children:["create"===a?(0,b.jsx)(t,{size:16}):(0,b.jsx)(o.Save,{size:16}),"create"===a?"Initialize Cycle":"Save Cycle Config"]})]}),(0,b.jsx)(w.GoalFormModal,{isOpen:aE,onClose:()=>aF(!1),onSave:(b,c)=>{let d={id:aC?.id||`temp-g-${Date.now()}`,...b,linkedHabit:c,subtasks:b.subtasks?.map(a=>({name:a,done:!1}))};"create"===a?aC?an(a=>a.map(a=>a.id===aC.id?{...a,...d}:a)):an(a=>[...a,d]):D&&D(aC?"update":"create",{...d,linkedHabit:c}),aF(!1)},initialGoal:aC,allHabits:z,currentCycleHabits:ao}),(0,b.jsx)(F,{isOpen:aI,onClose:()=>aJ(!1),onSave:b=>{let c={id:aG?.id||`temp-h-${Date.now()}`,...b};"create"===a?aG?ap(a=>a.map(a=>a.id===aG.id?c:a)):ap(a=>[...a,c]):E&&E(aG?"update":"create",c),aJ(!1)},initialHabit:aG,allHabits:z,onDeleteFromLibrary:aN,onRenameCategory:I,onDeleteCategory:J})]})})}],60283)}];

//# sourceMappingURL=_154e3628._.js.map