{"version":3,"sources":["../../../../src/app/%28portal%29/lab/page.tsx","../../../../node_modules/lucide-react/src/icons/archive.ts","../../../../node_modules/lucide-react/src/icons/corner-down-right.ts"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\nimport { supabaseService } from '@/lib/supabaseService';\r\nimport { Goal, GoalType, Version, Cycle, HabitWeight, Habit, EntityStatus } from '@/types/types';\r\nimport { Target, Zap, Circle, CheckCircle2, Plus, ArrowRight, Brain, AlertTriangle, List, X, Layers, Activity, Fingerprint, ChevronRight, BarChart3, Calendar, ChevronDown, Edit3, Save, Trash2, Check, LayoutList, Link as LinkIcon, ChevronUp, MoreHorizontal, Copy, History, RefreshCw, Search, CornerDownRight, Archive, Eye, EyeOff } from 'lucide-react';\r\nimport { GoalFormModal } from '@/components/GoalFormModal';\r\nimport { CycleEditorModal } from '@/components/CycleEditorModal';\r\nimport { NewVersionModal } from '@/components/NewVersionModal';\r\n\r\n// --- MODAL COMPONENTS ---\r\n\r\ninterface CycleSettingsModalProps {\r\n    cycle: Cycle;\r\n    isActive: boolean;\r\n    onClose: () => void;\r\n    onSave: (cycleId: string, startDate: string, endDate: string, setActive: boolean) => void;\r\n}\r\n\r\nconst CycleSettingsModal: React.FC<CycleSettingsModalProps> = ({ cycle, isActive, onClose, onSave }) => {\r\n    const [startDate, setStartDate] = useState(cycle.start_date);\r\n    const [endDate, setEndDate] = useState(cycle.end_date);\r\n    const [makeActive, setMakeActive] = useState(isActive);\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-graphite-950/80 backdrop-blur-sm p-4\" onClick={onClose}>\r\n            <div\r\n                className=\"w-full max-w-md rounded-2xl bg-white dark:bg-graphite-900 p-6 shadow-2xl border border-graphite-200 dark:border-graphite-800 animate-in zoom-in-95 duration-200\"\r\n                onClick={(e: React.MouseEvent) => e.stopPropagation()}\r\n            >\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h2 className=\"text-lg font-bold text-graphite-900 dark:text-white flex items-center gap-2\">\r\n                        <Calendar size={18} className=\"text-pacific-500\" /> Cycle Settings\r\n                    </h2>\r\n                    <button onClick={onClose} type=\"button\"><X size={18} className=\"text-graphite-400 hover:text-white\" /></button>\r\n                </div>\r\n\r\n                <div className=\"space-y-4\">\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-graphite-500 uppercase mb-1.5\">Start Date</label>\r\n                        <input type=\"date\" value={startDate} onChange={e => setStartDate(e.target.value)} className=\"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-3 py-2 text-sm text-graphite-900 dark:text-white focus:outline-none focus:border-pacific-500\" />\r\n                    </div>\r\n                    <div>\r\n                        <label className=\"block text-xs font-bold text-graphite-500 uppercase mb-1.5\">End Date</label>\r\n                        <input type=\"date\" value={endDate} onChange={e => setEndDate(e.target.value)} className=\"w-full bg-graphite-50 dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-3 py-2 text-sm text-graphite-900 dark:text-white focus:outline-none focus:border-pacific-500\" />\r\n                    </div>\r\n\r\n                    <div className=\"pt-2\">\r\n                        <label className={`flex items-center gap-3 p-3 rounded-xl border transition-colors cursor-pointer ${makeActive ? 'bg-pacific-50 dark:bg-pacific-900/10 border-pacific-500/50' : 'bg-graphite-50 dark:bg-graphite-800 border-graphite-200 dark:border-graphite-700 hover:border-graphite-400'}`}>\r\n                            <div className={`h-5 w-5 rounded-full border flex items-center justify-center transition-colors ${makeActive ? 'bg-pacific-500 border-pacific-500' : 'border-graphite-400'}`}>\r\n                                {makeActive && <Check size={12} className=\"text-white\" />}\r\n                            </div>\r\n                            <input type=\"checkbox\" checked={makeActive} onChange={e => !isActive && setMakeActive(e.target.checked)} className=\"hidden\" disabled={isActive} />\r\n                            <div>\r\n                                <div className=\"text-sm font-bold text-graphite-900 dark:text-white\">Active Status</div>\r\n                                <div className=\"text-xs text-graphite-500\">{isActive ? 'Currently the active cycle' : 'Set as current active cycle'}</div>\r\n                            </div>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex justify-end gap-3 pt-6 mt-2 border-t border-graphite-200 dark:border-graphite-800\">\r\n                    <button onClick={onClose} type=\"button\" className=\"px-4 py-2 text-sm font-bold text-graphite-500 hover:text-graphite-900 dark:hover:text-white transition-colors\">Cancel</button>\r\n                    <button onClick={() => onSave(cycle.id, startDate, endDate, makeActive)} type=\"button\" className=\"px-6 py-2 bg-pacific-600 text-white rounded-xl text-sm font-bold shadow-lg shadow-pacific-500/30 hover:bg-pacific-500 transition-colors flex items-center gap-2\">\r\n                        <Save size={14} /> Save Changes\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\ninterface HabitSelectorModalProps {\r\n    isOpen: boolean;\r\n    onClose: () => void;\r\n    onSelect: (habit: Habit) => void;\r\n    currentCycleHabits: Habit[];\r\n    allHabits: Habit[];\r\n}\r\n\r\nconst HabitSelectorModal: React.FC<HabitSelectorModalProps> = ({ isOpen, onClose, onSelect, currentCycleHabits, allHabits }) => {\r\n    const [activeTab, setActiveTab] = useState<'current' | 'database'>('current');\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n\r\n    if (!isOpen) return null;\r\n    const uniqueDbHabits = Array.from(new Map(allHabits.map((h: Habit) => [h.name, h])).values());\r\n    const displayHabits = activeTab === 'current' ? currentCycleHabits : uniqueDbHabits;\r\n    const filteredHabits = displayHabits.filter((h: Habit) => h.name.toLowerCase().includes(searchTerm.toLowerCase()));\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 z-50 flex items-center justify-center bg-graphite-950/80 backdrop-blur-sm p-4\" onClick={onClose}>\r\n            <div className=\"w-full max-w-lg rounded-2xl bg-white dark:bg-graphite-900 shadow-2xl animate-in zoom-in-95 duration-200 border border-graphite-200 dark:border-graphite-800 flex flex-col max-h-[80vh]\" onClick={(e) => e.stopPropagation()}>\r\n                <div className=\"p-6 border-b border-graphite-200 dark:border-graphite-800\">\r\n                    <div className=\"flex items-center justify-between mb-4\">\r\n                        <h2 className=\"text-lg font-bold text-graphite-900 dark:text-white flex items-center gap-2\"><LinkIcon size={18} className=\"text-pacific-500\" /> Link Habit</h2>\r\n                        <button onClick={onClose} className=\"text-graphite-400 hover:text-graphite-600 dark:hover:text-white\"><X size={18} /></button>\r\n                    </div>\r\n                    <div className=\"flex gap-2 p-1 bg-graphite-100 dark:bg-graphite-800 rounded-lg mb-4\">\r\n                        <button onClick={() => setActiveTab('current')} className={`flex-1 py-1.5 text-xs font-bold uppercase rounded-md transition-all ${activeTab === 'current' ? 'bg-white dark:bg-graphite-700 text-graphite-900 dark:text-white shadow-sm' : 'text-graphite-500'}`}>Current Cycle</button>\r\n                        <button onClick={() => setActiveTab('database')} className={`flex-1 py-1.5 text-xs font-bold uppercase rounded-md transition-all ${activeTab === 'database' ? 'bg-white dark:bg-graphite-700 text-graphite-900 dark:text-white shadow-sm' : 'text-graphite-500'}`}>Database</button>\r\n                    </div>\r\n                    <input value={searchTerm} onChange={(e) => setSearchTerm(e.target.value)} placeholder=\"Search habits...\" className=\"w-full bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-pacific-500 text-graphite-900 dark:text-white\" />\r\n                </div>\r\n                <div className=\"flex-1 overflow-y-auto p-4 space-y-2\">\r\n                    {filteredHabits.length > 0 ? filteredHabits.map(habit => (\r\n                        <button key={habit.id} onClick={() => onSelect(habit)} className=\"w-full text-left p-4 rounded-xl border border-graphite-200 dark:border-graphite-800 hover:border-pacific-500 dark:hover:border-pacific-500 bg-white dark:bg-graphite-800/50 hover:bg-pacific-50 dark:hover:bg-pacific-900/10 transition-all group\">\r\n                            <div className=\"flex justify-between items-center mb-1\">\r\n                                <span className=\"font-semibold text-graphite-900 dark:text-white group-hover:text-pacific-600 dark:group-hover:text-pacific-400 transition-colors\">{habit.name}</span>\r\n                                {activeTab === 'database' && <span className=\"text-[10px] font-bold uppercase text-graphite-400 bg-graphite-100 dark:bg-graphite-800 px-2 py-0.5 rounded\">Import</span>}\r\n                            </div>\r\n                            <div className=\"flex items-center gap-2 text-xs text-graphite-500\">\r\n                                <span>{habit.category}</span>\r\n                                <span className=\"text-graphite-300\">•</span>\r\n                                <span className={habit.weight === HabitWeight.HIGH ? 'text-pacific-500 font-bold' : ''}>{habit.weight === HabitWeight.HIGH ? 'High Priority' : habit.weight === HabitWeight.MEDIUM ? 'Medium' : 'Low'}</span>\r\n                            </div>\r\n                        </button>\r\n                    )) : (<div className=\"text-center py-8 text-graphite-400 text-sm\">No habits found.</div>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst Lab: React.FC = () => {\r\n    const [data, setData] = useState<{ goals: Goal[]; version: Version | null; cycles: Cycle[]; habits: Habit[]; activeCycleId: string | null } | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showNewVersion, setShowNewVersion] = useState(false);\r\n    const [showNewCycle, setShowNewCycle] = useState(false);\r\n    const [editingCycle, setEditingCycle] = useState<Cycle | null>(null);\r\n    const [cycleInSettings, setCycleInSettings] = useState<Cycle | null>(null);\r\n    const [showAddGoalModal, setShowAddGoalModal] = useState(false);\r\n    const [targetCycleIdForAddGoal, setTargetCycleIdForAddGoal] = useState<string | null>(null);\r\n    const [showHabitSelector, setShowHabitSelector] = useState(false);\r\n    const [selectedGoalIdForLinking, setSelectedGoalIdForLinking] = useState<string | null>(null);\r\n    const [allHabitsHistory, setAllHabitsHistory] = useState<Habit[]>([]);\r\n    const [editingSubtask, setEditingSubtask] = useState<{ goalId: string, index: number } | null>(null);\r\n    const [editSubtaskText, setEditSubtaskText] = useState('');\r\n    const [addingSubtaskGoalId, setAddingSubtaskGoalId] = useState<string | null>(null);\r\n    const [newSubtaskText, setNewSubtaskText] = useState('');\r\n    const [expandedCycleId, setExpandedCycleId] = useState<string | null>(null);\r\n    const [collapsedGoals, setCollapsedGoals] = useState<Set<string>>(new Set());\r\n    const [showArchived, setShowArchived] = useState(false);\r\n    const [verifyDeleteId, setVerifyDeleteId] = useState<string | null>(null);\r\n    const [maxCycles, setMaxCycles] = useState(6);\r\n\r\n    const loadLabData = async () => {\r\n        try {\r\n            const labData = await supabaseService.getLabData();\r\n            setData(labData);\r\n            const history = await supabaseService.getAllHabits();\r\n            setAllHabitsHistory(history);\r\n            const settings = await supabaseService.getSystemSettings();\r\n            setMaxCycles(settings.cycles);\r\n            if (labData.activeCycleId && !expandedCycleId) setExpandedCycleId(labData.activeCycleId);\r\n            setLoading(false);\r\n        } catch (e) {\r\n            console.error(e);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => { loadLabData(); }, []);\r\n\r\n    const handleCreateVersion = async (vData: { title: string; description: string; number: number; startDate: string }) => { await supabaseService.createVersion(vData); setShowNewVersion(false); loadLabData(); };\r\n\r\n    const handleCreateCycle = async (cData: any, gData: any[], hData: any[]) => {\r\n        await supabaseService.createCycle(cData, gData, hData);\r\n        setShowNewCycle(false);\r\n        loadLabData();\r\n    };\r\n\r\n    const handleUpdateCycle = async (updatedCycle: Cycle) => { await supabaseService.updateCycle(updatedCycle); setEditingCycle(null); loadLabData(); };\r\n\r\n    const handleArchiveCycle = async (e: React.MouseEvent, cycleId: string) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        try {\r\n            if (!data) return;\r\n            const cycle = data.cycles.find((c: Cycle) => c.id === cycleId);\r\n            if (!cycle) return;\r\n\r\n            const currentStatus = cycle.status || EntityStatus.ACTIVE;\r\n            const newStatus = currentStatus === EntityStatus.ARCHIVED ? EntityStatus.ACTIVE : EntityStatus.ARCHIVED;\r\n\r\n            const updatedCycles = data.cycles.map((c: Cycle) => c.id === cycleId ? { ...c, status: newStatus } : c);\r\n            setData({ ...data, cycles: updatedCycles });\r\n\r\n            await supabaseService.updateCycle({ ...cycle, status: newStatus });\r\n            await loadLabData();\r\n        } catch (e) {\r\n            console.error(\"Archive failed\", e);\r\n            loadLabData();\r\n        }\r\n    };\r\n\r\n    const handleDeleteCycle = async (e: React.MouseEvent, cycleId: string) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (verifyDeleteId !== cycleId) {\r\n            setVerifyDeleteId(cycleId);\r\n            setTimeout(() => setVerifyDeleteId(curr => curr === cycleId ? null : curr), 3000);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            setData((currentData: any) => {\r\n                if (!currentData) return null;\r\n                return {\r\n                    ...currentData,\r\n                    cycles: currentData.cycles.filter((c: Cycle) => c.id !== cycleId)\r\n                };\r\n            });\r\n\r\n            if (expandedCycleId === cycleId) setExpandedCycleId(null);\r\n\r\n            await supabaseService.deleteCycle(cycleId);\r\n            await loadLabData();\r\n\r\n            setVerifyDeleteId(null);\r\n        } catch (err) {\r\n            loadLabData();\r\n        }\r\n    };\r\n\r\n    const handleUpdateCycleSettings = async (cycleId: string, startDate: string, endDate: string, setActive: boolean) => {\r\n        if (!data) return;\r\n        const cycleToUpdate = data.cycles.find((c: Cycle) => c.id === cycleId);\r\n        if (cycleToUpdate) {\r\n            const updatedCycle = { ...cycleToUpdate, start_date: startDate, end_date: endDate };\r\n            await supabaseService.updateCycle(updatedCycle);\r\n        }\r\n        if (setActive && data.activeCycleId !== cycleId) { await supabaseService.setCycleActive(cycleId); }\r\n        setCycleInSettings(null);\r\n        loadLabData();\r\n    };\r\n\r\n    const handleAddGoal = async (goalData: { title: string; description: string; type: GoalType; subtasks?: string[] }, linkedHabit: Habit | null) => {\r\n        if (!targetCycleIdForAddGoal) return;\r\n        const newGoalId = `g-${crypto.randomUUID()}`;\r\n        const newGoal: Goal = { id: newGoalId, cycle_id: targetCycleIdForAddGoal, title: goalData.title, description: goalData.description, type: goalData.type, };\r\n        if (goalData.type === GoalType.TASK_PROJECT) {\r\n            const tasks = goalData.subtasks?.map(rawName => {\r\n                const match = rawName.match(/^(\\s*)/); const leadingStr = match ? match[1] : ''; const normalizedIndent = leadingStr.replace(/\\t/g, '  '); const level = Math.floor(normalizedIndent.length / 2);\r\n                return { name: rawName.trim(), done: false, level };\r\n            }) || [];\r\n            newGoal.subtasks = tasks;\r\n        } else if (goalData.type === GoalType.CONSISTENCY_METRIC && linkedHabit) {\r\n            let habitId = linkedHabit.id;\r\n            if (linkedHabit.cycle_id !== targetCycleIdForAddGoal) {\r\n                const newHabitId = `h-${crypto.randomUUID()}`; const newHabit: Habit = { ...linkedHabit, id: newHabitId, cycle_id: targetCycleIdForAddGoal, linked_goal_id: newGoalId };\r\n                await supabaseService.addHabit(newHabit); habitId = newHabitId;\r\n            } else { const updatedHabit = { ...linkedHabit, linked_goal_id: newGoalId }; await supabaseService.updateHabit(updatedHabit); }\r\n            newGoal.linked_habit_id = habitId; newGoal.current_streak = 0;\r\n        }\r\n        await supabaseService.addGoal(newGoal); setShowAddGoalModal(false); loadLabData();\r\n    };\r\n\r\n    const handleDeleteGoal = async (id: string) => { await supabaseService.deleteGoal(id); loadLabData(); };\r\n    const handleOpenHabitSelector = (goalId: string) => { setSelectedGoalIdForLinking(goalId); setShowHabitSelector(true); };\r\n    const handleLinkHabit = async (habit: Habit) => {\r\n        if (!data || !selectedGoalIdForLinking) return;\r\n        const isCurrentCycle = habit.cycle_id === data.activeCycleId;\r\n        let habitIdToLink = habit.id;\r\n        if (!isCurrentCycle && data.activeCycleId) {\r\n            const newHabit: Habit = { id: `h-${crypto.randomUUID()}`, cycle_id: data.activeCycleId, name: habit.name, category: habit.category, weight: habit.weight, linked_goal_id: selectedGoalIdForLinking };\r\n            await supabaseService.addHabit(newHabit); habitIdToLink = newHabit.id;\r\n        } else { const updatedHabit = { ...habit, linked_goal_id: selectedGoalIdForLinking }; await supabaseService.updateHabit(updatedHabit); }\r\n        const goalToUpdate = data.goals.find((g: Goal) => g.id === selectedGoalIdForLinking);\r\n        if (goalToUpdate) { const updatedGoal = { ...goalToUpdate, linked_habit_id: habitIdToLink }; await supabaseService.updateGoal(updatedGoal); }\r\n        setShowHabitSelector(false); setSelectedGoalIdForLinking(null); loadLabData();\r\n    };\r\n\r\n    const handleToggleSubtask = async (goal: Goal, index: number) => { if (!goal.subtasks) return; const updatedSubtasks = [...goal.subtasks]; updatedSubtasks[index].done = !updatedSubtasks[index].done; const updatedGoal = { ...goal, subtasks: updatedSubtasks }; await supabaseService.updateGoal(updatedGoal); loadLabData(); };\r\n    const handleDeleteSubtask = async (goal: Goal, index: number) => { if (!goal.subtasks) return; const updatedSubtasks = goal.subtasks.filter((_, i) => i !== index); const updatedGoal = { ...goal, subtasks: updatedSubtasks }; await supabaseService.updateGoal(updatedGoal); loadLabData(); };\r\n    const handleStartEditSubtask = (goalId: string, index: number, currentName: string) => { setEditingSubtask({ goalId, index }); setEditSubtaskText(currentName); };\r\n    const handleSaveSubtaskEdit = async (goal: Goal, index: number) => { if (!goal.subtasks) return; const updatedSubtasks = [...goal.subtasks]; updatedSubtasks[index].name = editSubtaskText; const updatedGoal = { ...goal, subtasks: updatedSubtasks }; await supabaseService.updateGoal(updatedGoal); setEditingSubtask(null); setEditSubtaskText(''); loadLabData(); };\r\n    const handleAddNewSubtask = async (goal: Goal) => { if (!newSubtaskText.trim()) return; const updatedSubtasks = goal.subtasks ? [...goal.subtasks] : []; updatedSubtasks.push({ name: newSubtaskText, done: false, level: 0 }); const updatedGoal = { ...goal, subtasks: updatedSubtasks }; await supabaseService.updateGoal(updatedGoal); setAddingSubtaskGoalId(null); setNewSubtaskText(''); loadLabData(); };\r\n    const toggleGoalCollapse = (goalId: string) => { const newSet = new Set(collapsedGoals); if (newSet.has(goalId)) newSet.delete(goalId); else newSet.add(goalId); setCollapsedGoals(newSet); };\r\n\r\n    // --- Handlers for CycleEditorModal ---\r\n    const handleManageGoal = async (action: 'create' | 'update' | 'delete', payload: any) => {\r\n        if (!editingCycle) return;\r\n        if (action === 'delete') {\r\n            await handleDeleteGoal(payload.id);\r\n        } else {\r\n            const goalData = {\r\n                title: payload.title,\r\n                description: payload.description,\r\n                type: payload.type,\r\n                subtasks: payload.subtasks\r\n            };\r\n\r\n            if (action === 'create') {\r\n                const newGoalId = `g-${crypto.randomUUID()}`;\r\n                const newGoal: Goal = {\r\n                    id: newGoalId,\r\n                    cycle_id: editingCycle.id,\r\n                    title: goalData.title,\r\n                    description: goalData.description,\r\n                    type: goalData.type\r\n                };\r\n\r\n                if (goalData.type === GoalType.TASK_PROJECT) {\r\n                    const tasks = payload.subtasks?.map((rawName: string) => {\r\n                        const match = rawName.match(/^(\\s*)/);\r\n                        const leadingStr = match ? match[1] : '';\r\n                        const normalizedIndent = leadingStr.replace(/\\t/g, '  ');\r\n                        const level = Math.floor(normalizedIndent.length / 2);\r\n                        return { name: rawName.trim(), done: false, level };\r\n                    }) || [];\r\n                    newGoal.subtasks = tasks;\r\n                } else if (goalData.type === GoalType.CONSISTENCY_METRIC && payload.linkedHabit) {\r\n                    let habitId = payload.linkedHabit.id;\r\n                    if (payload.linkedHabit.cycle_id !== editingCycle.id) {\r\n                        const newHabitId = `h-${crypto.randomUUID()}`;\r\n                        const newHabit: Habit = { ...payload.linkedHabit, id: newHabitId, cycle_id: editingCycle.id, linked_goal_id: newGoalId };\r\n                        await supabaseService.addHabit(newHabit);\r\n                        habitId = newHabitId;\r\n                    } else {\r\n                        const updatedHabit = { ...payload.linkedHabit, linked_goal_id: newGoalId };\r\n                        await supabaseService.updateHabit(updatedHabit);\r\n                    }\r\n                    newGoal.linked_habit_id = habitId;\r\n                    newGoal.current_streak = 0;\r\n                }\r\n                await supabaseService.addGoal(newGoal);\r\n            } else {\r\n                const originalGoal = data?.goals.find((g: Goal) => g.id === payload.id);\r\n                if (!originalGoal) return;\r\n\r\n                let updatedSubtasks = originalGoal.subtasks;\r\n                if (goalData.type === GoalType.TASK_PROJECT && payload.subtasks) {\r\n                    updatedSubtasks = payload.subtasks.map((rawName: string) => {\r\n                        const match = rawName.match(/^(\\s*)/);\r\n                        const leadingStr = match ? match[1] : '';\r\n                        const normalizedIndent = leadingStr.replace(/\\t/g, '  ');\r\n                        const level = Math.floor(normalizedIndent.length / 2);\r\n                        return { name: rawName.trim(), done: false, level };\r\n                    });\r\n                }\r\n\r\n                const updatedGoal: Goal = {\r\n                    ...originalGoal,\r\n                    title: goalData.title,\r\n                    description: goalData.description,\r\n                    type: goalData.type,\r\n                    subtasks: updatedSubtasks,\r\n                    linked_habit_id: payload.linkedHabit?.id\r\n                };\r\n                await supabaseService.updateGoal(updatedGoal);\r\n            }\r\n            await loadLabData();\r\n        }\r\n    };\r\n\r\n    const handleManageHabit = async (action: 'create' | 'update' | 'delete', payload: any) => {\r\n        if (!editingCycle) return;\r\n        if (action === 'delete') {\r\n            await supabaseService.deleteHabit(payload.id);\r\n        } else if (action === 'create') {\r\n            const newHabit: Habit = {\r\n                id: `h-${crypto.randomUUID()}`,\r\n                cycle_id: editingCycle.id,\r\n                name: payload.name,\r\n                category: payload.category,\r\n                weight: payload.weight\r\n            };\r\n            await supabaseService.addHabit(newHabit);\r\n        } else {\r\n            const updatedHabit: Habit = {\r\n                ...data?.habits.find((h: Habit) => h.id === payload.id)!,\r\n                name: payload.name,\r\n                category: payload.category,\r\n                weight: payload.weight\r\n            };\r\n            await supabaseService.updateHabit(updatedHabit);\r\n        }\r\n        await loadLabData();\r\n    };\r\n\r\n    const handleRenameCategory = async (oldName: string, newName: string) => {\r\n        const allHabits = await supabaseService.getAllHabits();\r\n        const toUpdate = allHabits.filter(h => h.category === oldName);\r\n        for (const h of toUpdate) {\r\n            await supabaseService.updateHabit({ ...h, category: newName });\r\n        }\r\n        await loadLabData();\r\n    };\r\n\r\n    const handleDeleteCategory = async (categoryName: string) => {\r\n        const allHabits = await supabaseService.getAllHabits();\r\n        const toUpdate = allHabits.filter(h => h.category === categoryName);\r\n        for (const h of toUpdate) {\r\n            await supabaseService.updateHabit({ ...h, category: 'Uncategorized' });\r\n        }\r\n        await loadLabData();\r\n    };\r\n\r\n    // Define the standardized handler for library deletions\r\n    const handleDeleteHabitFromLibrary = async (habitId: string) => {\r\n        // 1. Perform Deletion\r\n        await supabaseService.deleteHabit(habitId);\r\n\r\n        // 2. Refresh Local Library State immediately\r\n        const history = await supabaseService.getAllHabits();\r\n        setAllHabitsHistory(history);\r\n\r\n        // 3. Refresh Global Lab Data\r\n        await loadLabData();\r\n    };\r\n\r\n    if (loading || !data) return <div className=\"flex h-full items-center justify-center font-medium text-graphite-400\">Loading Lab Environment...</div>;\r\n\r\n    const currentHabits = data.habits.filter(h => h.cycle_id === data.activeCycleId);\r\n\r\n    const hasArchivedCycles = data.cycles.some(c => c.status === EntityStatus.ARCHIVED);\r\n    const visibleCycles = data.cycles.filter(c => showArchived || c.status !== EntityStatus.ARCHIVED);\r\n\r\n    return (\r\n        <div className=\"pb-10\">\r\n            <header className=\"flex flex-col md:flex-row md:items-end justify-between gap-6 mb-8\">\r\n                {data.version ? (\r\n                    <div>\r\n                        <div className=\"flex items-center gap-3 mb-2\">\r\n                            <span className=\"inline-flex items-center justify-center rounded bg-pacific-500/10 border border-pacific-500/20 px-2 py-0.5 text-[10px] font-bold text-pacific-600 dark:text-pacific-400 uppercase tracking-wider\">Current Version</span>\r\n                            <span className=\"text-pacific-500 font-mono font-bold text-sm\">v{data.version.number}.0</span>\r\n                        </div>\r\n                        <h1 className=\"text-4xl font-display font-bold text-graphite-900 dark:text-white tracking-tight\">{data.version.title}</h1>\r\n                        <p className=\"text-graphite-500 italic mt-1\">\"{data.version.description}\"</p>\r\n                    </div>\r\n                ) : (\r\n                    <div className=\"flex flex-col items-start gap-4\">\r\n                        <div className=\"flex items-center gap-3 text-graphite-400\">\r\n                            <div className=\"p-2 bg-graphite-100 dark:bg-graphite-800 rounded-lg\">\r\n                                <Layers size={24} />\r\n                            </div>\r\n                            <div>\r\n                                <h1 className=\"text-xl font-bold text-graphite-900 dark:text-white\">System Standby</h1>\r\n                                <p className=\"text-xs font-medium uppercase tracking-wide\">No Active Version</p>\r\n                            </div>\r\n                        </div>\r\n                        <p className=\"text-sm text-graphite-500 max-w-md\">The system is currently dormant. Initialize the first Version to begin tracking cycles and habits.</p>\r\n                        <button onClick={() => setShowNewVersion(true)} className=\"px-4 py-2 bg-pacific-600 text-white text-sm font-bold rounded-xl hover:bg-pacific-500 transition-colors shadow-lg shadow-pacific-500/20 flex items-center gap-2\">\r\n                            <Plus size={16} /> Initialize Version 1.0\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {data.version && (\r\n                    <div className=\"flex items-center gap-3\">\r\n                        <div className=\"text-right mr-4 hidden md:block\"><div className=\"text-[10px] font-bold text-graphite-400 uppercase tracking-widest flex items-center justify-end gap-2\"><Calendar size={12} /> Timeline</div><div className=\"font-mono text-sm text-graphite-600 dark:text-graphite-300\">{data.version.start_date} — {data.version.end_date}</div></div>\r\n                        <button onClick={() => setShowNewVersion(true)} type=\"button\" className=\"flex items-center gap-2 px-4 py-2 rounded-xl bg-white dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 text-sm font-bold hover:border-pacific-500 transition-colors\"><Plus size={16} /> New Version</button>\r\n                    </div>\r\n                )}\r\n            </header>\r\n\r\n            <div className=\"space-y-6\">\r\n                <div className=\"flex items-center justify-between\">\r\n                    <div className=\"flex items-center gap-4\">\r\n                        <h3 className=\"text-xs font-bold text-graphite-400 uppercase tracking-widest flex items-center gap-2\"><Layers size={14} /> Cycles Log</h3>\r\n                        {hasArchivedCycles && (\r\n                            <button\r\n                                onClick={() => setShowArchived(!showArchived)}\r\n                                type=\"button\"\r\n                                className=\"text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded bg-graphite-100 dark:bg-graphite-800 text-graphite-500 hover:text-pacific-500 transition-colors flex items-center gap-1\"\r\n                            >\r\n                                {showArchived ? <EyeOff size={12} /> : <Eye size={12} />} {showArchived ? 'Hide Archived' : 'Show Archived'}\r\n                            </button>\r\n                        )}\r\n                    </div>\r\n                    {data.version && data.cycles.length < maxCycles && (\r\n                        <button onClick={() => setShowNewCycle(true)} type=\"button\" className=\"text-pacific-600 hover:text-pacific-500 p-2 rounded-lg bg-pacific-50 dark:bg-pacific-900/10\"><Plus size={20} /></button>\r\n                    )}\r\n                </div>\r\n\r\n                {visibleCycles.map((cycle: Cycle) => {\r\n                    const isSystemActive = cycle.id === data.activeCycleId;\r\n                    const isArchived = cycle.status === EntityStatus.ARCHIVED;\r\n                    const cycleGoals = data.goals.filter((g: Goal) => g.cycle_id === cycle.id);\r\n                    const isExpanded = expandedCycleId === cycle.id;\r\n                    const cardBaseClass = \"bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-[#262629] transition-all duration-300\";\r\n                    const textBaseClass = \"text-graphite-900 dark:text-white\";\r\n                    const subtextBaseClass = \"text-graphite-400 dark:text-graphite-500\";\r\n\r\n                    return (\r\n                        <div key={cycle.id} className={`rounded-3xl border transition-all duration-300 overflow-hidden ${cardBaseClass} ${isArchived ? 'opacity-70 grayscale border-dashed' : (!isSystemActive && !isExpanded ? 'opacity-60 hover:opacity-100' : 'opacity-100')}`}>\r\n                            <div\r\n                                onClick={(e) => {\r\n                                    if ((e.target as HTMLElement).closest('button')) return;\r\n                                    setExpandedCycleId(isExpanded ? null : cycle.id);\r\n                                }}\r\n                                className={`group/header p-6 border-b flex items-center justify-between cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors ${isSystemActive ? 'border-graphite-200 dark:border-graphite-800' : 'border-graphite-100 dark:border-graphite-800'}`}\r\n                            >\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    {isExpanded ? <ChevronDown className=\"text-pacific-500\" /> : <ChevronRight className=\"text-graphite-400\" />}\r\n                                    <h2 className={`text-xl font-bold ${textBaseClass} ${isArchived ? 'line-through decoration-graphite-400' : ''}`}>Cycle {cycle.sprint_number}</h2>\r\n\r\n                                    <div className=\"flex items-center gap-4 relative z-10\" onClick={(e: React.MouseEvent) => e.stopPropagation()}>\r\n                                        {isSystemActive ? (<button onClick={() => setCycleInSettings(cycle)} type=\"button\" className=\"px-3 py-1 rounded-lg bg-pacific-500/10 text-pacific-600 dark:text-pacific-400 border border-pacific-500/20 text-[10px] font-bold uppercase tracking-wider flex items-center gap-1.5 hover:bg-pacific-500/20 transition-colors\">Active <Calendar size={12} className=\"pointer-events-none\" /></button>) : isArchived ? (<span className=\"px-3 py-1 rounded-lg bg-graphite-100 dark:bg-graphite-800 text-graphite-500 border border-graphite-200 dark:border-graphite-700 text-[10px] font-bold uppercase tracking-wider flex items-center gap-1\"><Archive size={10} /> Archived</span>) : (<button onClick={() => setCycleInSettings(cycle)} type=\"button\" className=\"px-3 py-1 rounded-lg bg-transparent text-graphite-400 border border-graphite-200 dark:border-graphite-700 text-[10px] font-bold uppercase tracking-wider flex items-center gap-1.5 hover:bg-graphite-100 dark:hover:bg-graphite-800 hover:text-graphite-600 dark:hover:text-graphite-300 transition-colors\">Configure <Calendar size={12} className=\"pointer-events-none\" /></button>)}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"flex items-center justify-end\"><div className={`font-mono text-sm ${subtextBaseClass} transition-all duration-300`}>{cycle.start_date} — {cycle.end_date}</div></div>\r\n                            </div>\r\n\r\n                            {isExpanded && (\r\n                                <div className=\"p-8 grid grid-cols-1 lg:grid-cols-2 gap-12 animate-in slide-in-from-top-4 duration-300\">\r\n                                    <div className=\"space-y-8\">\r\n                                        <div><h4 className={`text-xs font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${isSystemActive ? 'text-graphite-500' : 'text-graphite-500 dark:text-graphite-400'}`}><Target size={14} /> Priorities</h4><div className=\"space-y-3\">{cycle.focus_priorities.map((p: string, i: number) => (<div key={i} className={`flex items-center gap-4 p-3 rounded-xl border ${isSystemActive ? 'bg-white/5 border-white/10' : 'bg-graphite-50 dark:bg-graphite-800 border-graphite-200 dark:border-graphite-700'}`}><span className=\"text-pacific-500 font-mono text-xs font-bold\">0{i + 1}.</span><span className={`font-medium ${textBaseClass}`}>{p}</span></div>))}</div></div>\r\n                                        <div><h4 className={`text-xs font-bold uppercase tracking-widest mb-4 flex items-center gap-2 ${isSystemActive ? 'text-graphite-500' : 'text-graphite-500 dark:text-graphite-400'}`}><Activity size={14} /> Identity Kernel</h4><div className=\"grid grid-cols-2 gap-4\">{cycle.cch_list.map((c: { category: string; items: string[] }, i: number) => (<div key={i}><div className={`text-[10px] font-bold mb-2 uppercase ${isSystemActive ? 'text-graphite-500' : 'text-graphite-600 dark:text-graphite-400'}`}>{c.category}</div><div className=\"flex flex-wrap gap-2\">{c.items.map((item: string, j: number) => (<span key={j} className={`text-xs border px-2 py-1 rounded-md ${isSystemActive ? 'text-graphite-400 border-graphite-700' : 'text-graphite-400 dark:text-graphite-500 border-graphite-200 dark:border-graphite-700'}`}>{item}</span>))}</div></div>))}</div></div>\r\n                                        <div className={`p-6 rounded-2xl border ${isSystemActive ? 'bg-red-50 dark:bg-red-900/10 border-red-200 dark:border-red-900/30' : 'bg-white dark:bg-graphite-800/50 border-red-100 dark:border-red-900/30 shadow-sm'}`}><h4 className=\"text-[10px] font-bold text-red-500 dark:text-red-400 uppercase tracking-widest mb-3 flex items-center gap-2\"><AlertTriangle size={12} /> Friction</h4><p className={`text-sm italic ${isSystemActive ? 'text-graphite-700 dark:text-red-100/80' : 'text-graphite-600 dark:text-graphite-400'}`}>\"{cycle.problems}\"</p></div>\r\n\r\n                                        <div className=\"pt-6 border-t border-graphite-200 dark:border-graphite-800 flex flex-wrap items-center gap-3 relative z-10\" onClick={(e: React.MouseEvent) => e.stopPropagation()}>\r\n                                            <button onClick={() => setEditingCycle(cycle)} type=\"button\" className=\"flex items-center gap-2 px-4 py-2 bg-graphite-100 dark:bg-graphite-800 text-graphite-600 dark:text-graphite-300 rounded-xl text-sm font-bold hover:bg-graphite-200 dark:hover:bg-graphite-700 transition-colors\"><Edit3 size={16} className=\"pointer-events-none\" /> Edit Content</button>\r\n                                            <button\r\n                                                onClick={(e) => handleArchiveCycle(e, cycle.id)}\r\n                                                type=\"button\"\r\n                                                className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all border ${isArchived ? 'bg-bali-50 dark:bg-bali-900/20 text-bali-600 dark:text-bali-400 border-bali-200 dark:border-bali-800' : 'bg-graphite-50 dark:bg-graphite-900/50 text-graphite-500 hover:text-pacific-600 dark:hover:text-pacific-400 border-transparent hover:border-pacific-200 dark:hover:border-pacific-800'}`}\r\n                                            >\r\n                                                {isArchived ? <><RefreshCw size={16} className=\"pointer-events-none\" /> Restore</> : <><Archive size={16} className=\"pointer-events-none\" /> Archive</>}\r\n                                            </button>\r\n                                            <button\r\n                                                onClick={(e) => handleDeleteCycle(e, cycle.id)}\r\n                                                type=\"button\"\r\n                                                className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-bold transition-all duration-200 ${verifyDeleteId === cycle.id\r\n                                                    ? 'bg-red-500 text-white border-red-500 shadow-lg shadow-red-500/30 scale-105'\r\n                                                    : 'bg-graphite-50 dark:bg-graphite-900/50 text-graphite-400 hover:text-red-500 border border-transparent hover:border-red-200 dark:hover:border-red-900/30'\r\n                                                    }`}\r\n                                            >\r\n                                                <Trash2 size={16} className=\"pointer-events-none\" />\r\n                                                {verifyDeleteId === cycle.id ? 'Confirm Delete?' : 'Delete'}\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div>\r\n                                        <div className=\"flex justify-between items-center mb-4\"><h4 className={`text-xs font-bold uppercase tracking-widest flex items-center gap-2 ${isSystemActive ? 'text-graphite-500' : 'text-graphite-500 dark:text-graphite-400'}`}><CheckCircle2 size={14} /> Goals & Objectives</h4><button onClick={() => { setTargetCycleIdForAddGoal(cycle.id); setShowAddGoalModal(true); }} type=\"button\" className=\"text-[10px] font-bold text-pacific-400 hover:text-white flex items-center gap-1\">+ ADD GOAL</button></div>\r\n                                        <div className=\"space-y-4\">\r\n                                            {cycleGoals.map((goal: Goal) => {\r\n                                                const linkedHabit = currentHabits.find((h: Habit) => h.id === goal.linked_habit_id);\r\n                                                const isProject = goal.type === GoalType.TASK_PROJECT;\r\n                                                const isCollapsed = collapsedGoals.has(goal.id);\r\n                                                const goalCardClass = isSystemActive ? \"bg-graphite-50 dark:bg-graphite-800/50 border-graphite-200 dark:border-graphite-700 hover:border-pacific-500/30\" : \"bg-graphite-50 dark:bg-graphite-800/50 border-graphite-200 dark:border-graphite-700 hover:border-pacific-500/30\";\r\n                                                let progressPercent = 0; let showProgressBar = false;\r\n                                                if (goal.type === GoalType.TASK_PROJECT) { const totalTasks = goal.subtasks?.length || 0; const completedTasks = goal.subtasks?.filter(t => t.done).length || 0; if (totalTasks > 0) { progressPercent = (completedTasks / totalTasks) * 100; showProgressBar = true; } }\r\n                                                else if (goal.type === GoalType.CONSISTENCY_METRIC) { const streak = goal.current_streak || 0; progressPercent = Math.min(100, 100 * (1 - Math.exp(-0.061 * streak))); showProgressBar = true; }\r\n\r\n                                                return (\r\n                                                    <div key={goal.id} onClick={isProject ? () => toggleGoalCollapse(goal.id) : undefined} className={`group relative p-5 rounded-2xl border transition-all overflow-hidden ${goalCardClass} ${isProject ? 'cursor-pointer' : ''}`}>\r\n                                                        {showProgressBar && (<div className=\"absolute top-0 left-0 right-0 h-1.5 bg-graphite-200 dark:bg-black/20\"><div className={`h-full transition-all duration-500 ${progressPercent >= 100 ? 'bg-bali-500' : 'bg-pacific-500'}`} style={{ width: `${progressPercent}%` }} /></div>)}\r\n                                                        <div className=\"flex justify-between items-start mb-3\"><div><h3 className={`font-bold text-lg ${textBaseClass}`}>{goal.title}</h3><p className={`text-sm leading-relaxed mt-1 ${subtextBaseClass}`}>{goal.description}</p></div><div className=\"flex items-center gap-3\">{isProject && (<div className=\"text-graphite-400 group-hover:text-pacific-500 transition-colors\">{isCollapsed ? <ChevronDown size={16} /> : <ChevronUp size={16} />}</div>)}<div className=\"text-xs font-bold text-graphite-500 uppercase tracking-wider\">{goal.type === GoalType.CONSISTENCY_METRIC ? 'Consistency' : 'Project'}</div></div></div>\r\n                                                        {goal.type === GoalType.CONSISTENCY_METRIC && (<div className=\"mt-4 pl-1\" onClick={e => e.stopPropagation()}><button onClick={() => handleOpenHabitSelector(goal.id)} type=\"button\" className={`flex items-center gap-3 px-3 py-2 rounded-lg border transition-all group/habit w-full sm:w-auto ${isSystemActive ? 'bg-white dark:bg-graphite-900 border-graphite-200 dark:border-graphite-700' : 'bg-white dark:bg-graphite-900 border-graphite-200 dark:border-graphite-700'}`}><div className={`p-1.5 rounded-md ${isSystemActive ? 'bg-pacific-50 dark:bg-pacific-900/20 text-pacific-600 dark:text-pacific-400' : 'bg-pacific-50 dark:bg-pacific-900/20 text-pacific-600 dark:text-pacific-400'}`}><Activity size={14} /></div><div className=\"flex flex-col items-start\"><span className=\"text-[10px] font-bold text-graphite-400 uppercase tracking-wider\">Linked Habit</span>{linkedHabit ? (<span className={`text-xs font-bold ${textBaseClass}`}>{linkedHabit.name}</span>) : (<span className=\"text-xs font-bold text-red-400\">Select Habit Source</span>)}</div>{linkedHabit ? (<LinkIcon size={12} className=\"ml-2 text-graphite-400 group-hover/habit:text-pacific-500 transition-colors opacity-0 group-hover/habit:opacity-100\" />) : (<AlertTriangle size={12} className=\"ml-2 text-red-400\" />)}</button></div>)}\r\n                                                        {goal.type === GoalType.TASK_PROJECT && !isCollapsed && (<div className=\"mt-4 pl-1 animate-in slide-in-from-top-1 fade-in duration-200\" onClick={(e: React.MouseEvent) => e.stopPropagation()}><div className=\"space-y-2 mb-3\">{goal.subtasks?.map((t: { name: string; done: boolean; level?: number }, i: number) => (<div key={i} className={`flex items-center gap-3 text-sm group/task min-h-[28px] ${subtextBaseClass}`} style={{ paddingLeft: `${(t.level || 0) * 1.5}rem` }}>{(t.level || 0) > 0 && <CornerDownRight size={12} className=\"text-graphite-500 dark:text-graphite-600 flex-shrink-0\" />}{editingSubtask?.goalId === goal.id && editingSubtask.index === i ? (<div className=\"flex-1 flex items-center gap-2\"><input value={editSubtaskText} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setEditSubtaskText(e.target.value)} className=\"flex-1 bg-graphite-900 dark:bg-white border border-pacific-500 rounded px-2 py-1 text-white dark:text-graphite-900 text-sm focus:outline-none\" autoFocus onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => { if (e.key === 'Enter') handleSaveSubtaskEdit(goal, i); if (e.key === 'Escape') setEditingSubtask(null); }} /><button onClick={() => handleSaveSubtaskEdit(goal, i)} className=\"text-pacific-500 hover:text-white\"><Check size={16} /></button><button onClick={() => setEditingSubtask(null)} className=\"text-red-500 hover:text-white\"><X size={16} /></button></div>) : (<><button onClick={() => handleToggleSubtask(goal, i)} type=\"button\" className={`h-4 w-4 flex-shrink-0 rounded border flex items-center justify-center transition-all ${t.done ? 'bg-pacific-500 border-pacific-500 text-white' : 'border-graphite-600 dark:border-graphite-400 hover:border-pacific-500'}`}>{t.done && <Check size={10} />}</button><span className={`flex-1 transition-all ${t.done ? 'line-through opacity-50' : ''}`} onDoubleClick={() => handleStartEditSubtask(goal.id, i, t.name)}>{t.name}</span><div className=\"opacity-0 group-hover/task:opacity-100 flex items-center gap-2 transition-opacity\"><button onClick={() => handleStartEditSubtask(goal.id, i, t.name)} className=\"text-graphite-500 hover:text-pacific-400\"><Edit3 size={12} /></button><button onClick={() => handleDeleteSubtask(goal, i)} className=\"text-graphite-500 hover:text-red-500\"><Trash2 size={12} /></button></div></>)}</div>))}</div>{addingSubtaskGoalId === goal.id ? (<div className=\"flex items-center gap-2 animate-in fade-in slide-in-from-top-1\"><input value={newSubtaskText} onChange={(e: React.ChangeEvent<HTMLInputElement>) => setNewSubtaskText(e.target.value)} className=\"flex-1 bg-graphite-900 dark:bg-white border border-graphite-600 dark:border-graphite-300 rounded px-2 py-1 text-white dark:text-graphite-900 text-sm focus:outline-none focus:border-pacific-500\" placeholder=\"New item...\" autoFocus onKeyDown={(e: React.KeyboardEvent<HTMLInputElement>) => { if (e.key === 'Enter') handleAddNewSubtask(goal); if (e.key === 'Escape') { setAddingSubtaskGoalId(null); setNewSubtaskText(''); } }} /><button onClick={() => handleAddNewSubtask(goal)} className=\"p-1 bg-pacific-600 text-white rounded hover:bg-pacific-500\"><Plus size={14} /></button><button onClick={() => { setAddingSubtaskGoalId(null); setNewSubtaskText(''); }} className=\"p-1 text-graphite-500 hover:text-white\"><X size={14} /></button></div>) : (<button onClick={() => setAddingSubtaskGoalId(goal.id)} className=\"text-[10px] font-bold text-graphite-500 hover:text-pacific-400 flex items-center gap-1 transition-colors mt-2\"><Plus size={12} /> ADD ITEM</button>)}</div>)}\r\n                                                        <button onClick={(e) => { e.stopPropagation(); handleDeleteGoal(goal.id); }} className=\"absolute bottom-4 right-4 text-graphite-600 dark:text-graphite-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-2\"><Trash2 size={16} /></button>\r\n                                                    </div>\r\n                                                );\r\n                                            })}\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    );\r\n                })}\r\n                {!data.version && visibleCycles.length === 0 && (\r\n                    <div className=\"text-center py-12 text-graphite-400 text-sm\">System Empty. Initialize a version to proceed.</div>\r\n                )}\r\n                {data.version && !hasArchivedCycles && visibleCycles.length === 0 && (\r\n                    <div className=\"text-center py-12 text-graphite-400 text-sm\">No cycles found. Start by creating a new version or cycle.</div>\r\n                )}\r\n                {hasArchivedCycles && visibleCycles.length === 0 && (\r\n                    <div className=\"text-center py-12 text-graphite-400 text-sm\">All cycles are archived. Click \"Show Archived\" to view them.</div>\r\n                )}\r\n            </div>\r\n\r\n            {showNewVersion && <NewVersionModal onClose={() => setShowNewVersion(false)} onCreate={handleCreateVersion} suggestedNumber={(data.version?.number || 0) + 1} />}\r\n\r\n            {/* CREATING New Cycle */}\r\n            {showNewCycle && (\r\n                <CycleEditorModal\r\n                    mode=\"create\"\r\n                    goals={[]}\r\n                    habits={[]}\r\n                    allHabits={allHabitsHistory}\r\n                    suggestedSprintNumber={data.cycles.length + 1}\r\n                    onClose={() => setShowNewCycle(false)}\r\n                    onCreate={handleCreateCycle}\r\n                    onDeleteHabitFromDB={handleDeleteHabitFromLibrary}\r\n                    maxCycles={maxCycles}\r\n                    // PASSING SMART SCHEDULING CONTEXT\r\n                    versionStartDate={data.version?.start_date}\r\n                    existingCycles={data.cycles}\r\n                />\r\n            )}\r\n\r\n            {/* EDITING Existing Cycle */}\r\n            {editingCycle && (\r\n                <CycleEditorModal\r\n                    mode=\"edit\"\r\n                    cycle={editingCycle}\r\n                    goals={data.goals.filter(g => g.cycle_id === editingCycle.id)}\r\n                    habits={data.habits.filter(h => h.cycle_id === editingCycle.id)}\r\n                    allHabits={allHabitsHistory}\r\n                    onClose={() => setEditingCycle(null)}\r\n                    onSaveCycle={handleUpdateCycle}\r\n                    onManageGoal={handleManageGoal}\r\n                    onManageHabit={handleManageHabit}\r\n                    onRenameCategory={async (oldName: string, newName: string) => {\r\n                        const all = await supabaseService.getAllHabits();\r\n                        const targets = all.filter((h: Habit) => h.category === oldName);\r\n                        for (const h of targets) await supabaseService.updateHabit({ ...h, category: newName });\r\n                        await loadLabData();\r\n                    }}\r\n                    onDeleteCategory={async (catName: string) => {\r\n                        const all = await supabaseService.getAllHabits();\r\n                        const targets = all.filter((h: Habit) => h.category === catName);\r\n                        for (const h of targets) await supabaseService.updateHabit({ ...h, category: 'Uncategorized' });\r\n                        await loadLabData();\r\n                    }}\r\n                    onDeleteHabitFromDB={handleDeleteHabitFromLibrary}\r\n                    maxCycles={maxCycles}\r\n                />\r\n            )}\r\n\r\n            {cycleInSettings && <CycleSettingsModal cycle={cycleInSettings} isActive={data.activeCycleId === cycleInSettings.id} onClose={() => setCycleInSettings(null)} onSave={handleUpdateCycleSettings} />}\r\n            {showAddGoalModal && <GoalFormModal isOpen={showAddGoalModal} onClose={() => setShowAddGoalModal(false)} onSave={handleAddGoal} currentCycleHabits={data.habits.filter(h => h.cycle_id === targetCycleIdForAddGoal)} allHabits={allHabitsHistory} />}\r\n            <HabitSelectorModal isOpen={showHabitSelector} onClose={() => setShowHabitSelector(false)} onSelect={handleLinkHabit} currentCycleHabits={currentHabits} allHabits={allHabitsHistory} />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Lab;\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Archive\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMjAiIGhlaWdodD0iNSIgeD0iMiIgeT0iMyIgcng9IjEiIC8+CiAgPHBhdGggZD0iTTQgOHYxMWEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWOCIgLz4KICA8cGF0aCBkPSJNMTAgMTJoNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/archive\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Archive = createLucideIcon('Archive', [\n  ['rect', { width: '20', height: '5', x: '2', y: '3', rx: '1', key: '1wp1u1' }],\n  ['path', { d: 'M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8', key: '1s80jp' }],\n  ['path', { d: 'M10 12h4', key: 'a56b0p' }],\n]);\n\nexport default Archive;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CornerDownRight\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIxNSAxMCAyMCAxNSAxNSAyMCIgLz4KICA8cGF0aCBkPSJNNCA0djdhNCA0IDAgMCAwIDQgNGgxMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/corner-down-right\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CornerDownRight = createLucideIcon('CornerDownRight', [\n  ['polyline', { points: '15 10 20 15 15 20', key: '1q7qjw' }],\n  ['path', { d: 'M4 4v7a4 4 0 0 0 4 4h12', key: 'z08zvw' }],\n]);\n\nexport default CornerDownRight;\n"],"names":[],"mappings":"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","ignoreList":[1,2]}