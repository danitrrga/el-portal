module.exports=[11269,a=>{"use strict";let b=(0,a.i(70106).default)("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",0,b],11269)},41675,a=>{"use strict";let b=(0,a.i(70106).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",0,b],41675)},5784,a=>{"use strict";let b=(0,a.i(70106).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",0,b],5784)},59237,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(24129),e=a.i(24669),f=a.i(70106);let g=(0,f.default)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var h=a.i(5784),i=a.i(11269),j=a.i(54018),k=a.i(41675);let l=(0,f.default)("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);var m=a.i(16106),n=a.i(83077),o=a.i(33177);a.s(["default",0,()=>{let[a,f]=(0,c.useState)([]),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)({}),[t,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)("15d"),[x,y]=(0,c.useState)(null),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(null);(0,c.useEffect)(()=>{d.supabaseService.getHistoryData().then(a=>{f(a.dailyScores),q(a.cycles),s(a.habitStats),a.cycles.length>0&&y(a.cycles[0].id),A(new Date().toISOString().split("T")[0]),u(!1)})},[]);let D=(0,c.useMemo)(()=>{let b=[...a];if("cycle"===v&&x){let a=p.find(a=>a.id===x);a&&(b=b.filter(b=>b.date>=a.start_date&&b.date<=a.end_date))}else{let a="15d"===v?15:"30d"===v?30:90;b=b.slice(-a)}return b},[a,v,x,p]),E=D.length>0?Math.round(D.reduce((a,b)=>a+b.score,0)/D.length):0,F=D.filter(a=>100===a.score).length,G=(0,c.useMemo)(()=>z&&a.find(a=>a.date===z)||null,[z,a]),H=a=>new Date(a).toLocaleDateString("en-US",{month:"short",day:"numeric"});return t?(0,b.jsx)("div",{className:"flex h-full items-center justify-center font-medium text-graphite-400",children:"Loading Temporal Records..."}):(0,b.jsxs)("div",{className:"h-full flex flex-col gap-6",children:[(0,b.jsxs)("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-2 border-b border-graphite-200 dark:border-graphite-800",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xs font-bold uppercase tracking-widest text-graphite-500 mb-2 flex items-center gap-2",children:[(0,b.jsx)(g,{size:14})," Performance Analytics"]}),(0,b.jsx)("h1",{className:"text-3xl font-display font-bold text-graphite-900 dark:text-white",children:"Temporal Records"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:["cycle"===v&&(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("select",{value:x||"",onChange:a=>y(a.target.value),className:"appearance-none bg-white dark:bg-graphite-800 border border-graphite-200 dark:border-graphite-700 rounded-xl px-4 py-2 pr-10 text-sm font-bold text-graphite-700 dark:text-graphite-200 focus:outline-none focus:border-pacific-500",children:p.map(a=>(0,b.jsxs)("option",{value:a.id,children:["Cycle ",a.sprint_number]},a.id))}),(0,b.jsx)(h.ChevronDown,{size:16,className:"absolute right-3 top-1/2 -translate-y-1/2 text-graphite-400 pointer-events-none"})]}),(0,b.jsx)("div",{className:"flex bg-white dark:bg-graphite-900 p-1 rounded-xl border border-graphite-200 dark:border-graphite-800 shadow-sm",children:["15d","30d","90d","cycle"].map(a=>(0,b.jsx)("button",{onClick:()=>w(a),className:`px-4 py-1.5 rounded-lg text-xs font-bold uppercase transition-all ${v===a?"bg-graphite-900 text-white dark:bg-white dark:text-graphite-900 shadow-md":"text-graphite-500 hover:text-graphite-900 dark:hover:text-white"}`,children:"cycle"===a?"Cycle":a.toUpperCase()},a))})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 flex-1 min-h-0",children:[(0,b.jsxs)("div",{className:"lg:col-span-8 flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Avg Score"}),(0,b.jsxs)("div",{className:"text-3xl font-bold text-pacific-600 dark:text-pacific-400",children:[E,"%"]})]}),(0,b.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Perfect Days"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-bali-500",children:F})]}),(0,b.jsxs)("div",{className:"p-5 rounded-2xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 shadow-sm",children:[(0,b.jsx)("div",{className:"text-xs font-bold text-graphite-400 uppercase tracking-wider mb-1",children:"Data Points"}),(0,b.jsx)("div",{className:"text-3xl font-bold text-graphite-700 dark:text-graphite-200",children:D.length})]})]}),(0,b.jsxs)("div",{className:"rounded-3xl bg-white dark:bg-graphite-900 border border-graphite-200 dark:border-graphite-800 p-6 shadow-sm flex flex-col",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-pacific-500",children:[(0,b.jsx)(e.TrendingUp,{size:20}),(0,b.jsx)("h3",{className:"font-bold text-graphite-900 dark:text-white",children:"Performance Trajectory"})]}),(0,b.jsx)("div",{className:"flex items-center gap-4 text-xs font-mono text-graphite-400",children:(0,b.jsx)("span",{children:D.length>0?`${H(D[0].date)} — ${H(D[D.length-1].date)}`:""})})]}),(0,b.jsx)(o.PerformanceChart,{data:D,className:"h-64 w-full",onDataSelect:a=>A(a.date)})]})]}),(0,b.jsx)("div",{className:"lg:col-span-4 flex flex-col h-full min-h-[400px]",children:(0,b.jsx)("div",{className:"flex-1 rounded-3xl bg-graphite-50 dark:bg-graphite-950 border border-graphite-200 dark:border-graphite-800 p-1 shadow-inner flex flex-col",children:G?(0,b.jsxs)("div",{className:"flex flex-col h-full bg-white dark:bg-graphite-900 rounded-[20px] shadow-sm overflow-hidden animate-in slide-in-from-right-4 duration-300",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-graphite-100 dark:border-graphite-800 bg-graphite-50/50 dark:bg-graphite-900",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("span",{className:"text-xs font-bold uppercase tracking-widest text-graphite-400 flex items-center gap-2",children:[(0,b.jsx)(k.Calendar,{size:14})," Day Inspector"]}),G.score>=90&&(0,b.jsx)("span",{className:"px-2 py-0.5 rounded bg-bali-100 dark:bg-bali-900/30 text-bali-600 dark:text-bali-400 text-[10px] font-bold uppercase",children:"Elite Performance"})]}),(0,b.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,b.jsx)("h2",{className:"text-2xl font-display font-bold text-graphite-900 dark:text-white",children:new Date(G.date).toLocaleDateString("en-US",{weekday:"long",month:"short",day:"numeric"})}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-pacific-600 dark:text-pacific-400",children:[G.score,"%"]}),(0,b.jsx)("div",{className:"text-[10px] text-graphite-400 font-bold uppercase",children:"Daily Score"})]})]})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:G.details.map((a,c)=>{let d=r[a.habit.id]||{currentStreak:0,maxStreak:0};return(0,b.jsxs)("div",{className:"flex items-center justify-between group",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`h-8 w-8 rounded-full flex items-center justify-center transition-colors ${a.done?"bg-bali-100 text-bali-600 dark:bg-bali-900/20 dark:text-bali-400":"bg-red-100 text-red-500 dark:bg-red-900/20 dark:text-red-400"}`,children:a.done?(0,b.jsx)(i.CheckCircle2,{size:16}):(0,b.jsx)(j.XCircle,{size:16})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:`text-sm font-medium ${a.done?"text-graphite-900 dark:text-white":"text-graphite-500 dark:text-graphite-400"}`,children:a.habit.name}),(0,b.jsxs)("div",{className:"flex items-center gap-3 mt-0.5",children:[(0,b.jsxs)("div",{className:"text-[10px] text-graphite-400 uppercase tracking-wide",children:[a.habit.category," • Weight: ",a.habit.weight]}),(0,b.jsx)("div",{className:"h-3 w-[1px] bg-graphite-200 dark:bg-graphite-700"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-0.5",title:"Current Streak",children:[(0,b.jsx)(m.Flame,{size:10,className:d.currentStreak>0?"text-orange-500":"text-graphite-300 dark:text-graphite-600"}),(0,b.jsx)("span",{className:`text-[10px] font-bold ${d.currentStreak>0?"text-graphite-600 dark:text-graphite-400":"text-graphite-300 dark:text-graphite-600"}`,children:d.currentStreak})]}),(0,b.jsxs)("div",{className:"flex items-center gap-0.5",title:"Max Streak",children:[(0,b.jsx)(n.Trophy,{size:10,className:d.maxStreak>0?"text-yellow-600":"text-graphite-300 dark:text-graphite-600"}),(0,b.jsx)("span",{className:"text-[10px] font-bold text-graphite-300 dark:text-graphite-600",children:d.maxStreak})]})]})]})]})]}),(0,b.jsx)("div",{className:`text-xs font-bold ${a.done?"text-bali-500":"text-red-500 opacity-0 group-hover:opacity-100 transition-opacity"}`,children:a.done?"+PTS":"MISS"})]},c)})})]}):(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-graphite-400 p-8 text-center",children:[(0,b.jsx)(l,{size:32,className:"mb-4 opacity-20"}),(0,b.jsx)("p",{className:"text-sm font-medium",children:"Click on the timeline to inspect detailed logs for that day."})]})})})]})]})}],59237)}];

//# sourceMappingURL=_e7559795._.js.map